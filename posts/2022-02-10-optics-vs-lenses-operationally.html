<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-PWZE1HYS87"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'G-PWZE1HYS87');
        </script>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="author" content="Bruno Gavranovic" />
        <meta name="viewport" content="width=device-width" />
        <meta http-equiv="Cache-Control" content="max-age=86400, must-revalidate" />
        <title>Optics vs Lenses, Operationally</title>
        <script src="../css/jquery.js"></script>
        <script src="../css/selectfile.js"></script>
        <link rel="stylesheet" type="text/css" title="hakyll_theme" href="../css/theprofessional.css" />
        <link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
    </head>
    <body>
        <div class="highbar">&nbsp;</div>
        <div class="container-gallery">
        <div id="content" class="inside">

        <div id="header">
          <div class="box">
            <div id="logo" class="name">
                <h2><pageTitle><a href="../">Bruno Gavranović</a></pageTitle></h2>
            </div>
            <div id="navigation" class="pageslinks">
              <nav class="menuNav">
                <div class="menuItems">
                <a href="../" class="posts/2022-02-10-optics-vs-lenses-operationally.md">Home</a>
                <a href="../archive.html" class="posts/2022-02-10-optics-vs-lenses-operationally.md">Posts</a>
                <a href="../papers.html" class="posts/2022-02-10-optics-vs-lenses-operationally.md">Papers</a>
                <a href="../research_philosophy.html" class="posts/2022-02-10-optics-vs-lenses-operationally.md">Research Philosophy</a>
                <a href="../about.html" class="posts/2022-02-10-optics-vs-lenses-operationally.md">About</a>
		<!-- <a href="/contact.html" class="posts/2022-02-10-optics-vs-lenses-operationally.md">Contact</a> -->
                </div>
              </nav>
            </div>
        </div>
        </div>
            <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>

<div class="info">
    Posted on February 10, 2022
    
</div>

<h1 id="optics-vs-lenses-operationally">Optics vs Lenses, Operationally</h1>
<p>(Update: I’ve given a talk about this blog post, which can be found <a href="https://www.youtube.com/watch?v=BNHVySBzR3M">here</a>.)</p>
<p>I’ve been thinking <a href="https://www.brunogavranovic.com/posts/2022-01-05-lenses-to-the-left-of-me.html">a lot</a> about lenses and optics. They’re both abstract gadgets that model various sorts of bidirectional processes. They are found in <a href="https://arxiv.org/abs/2103.01931">machine learning</a>, <a href="https://arxiv.org/abs/1603.04641">game theory</a>, <a href="https://arxiv.org/abs/2111.10968">database systems</a>, and so on. While optics are more general, it’s understood that they’re equivalent to lenses in the special case of a cartesian monoidal category <img width="11" alt="\mathcal{C}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAZCAQAAABwKX1bAAAA0klEQVR4nL2TURXDIAxFY6EWsICFWsACFmoBC7VQC1ioBSzUAnvN2LqmCd1+9nLaD3JJAglEPXkKlGC+S0EOUKH6tmSjA5yVFvwjvpXxbBewwuk+8uz4bMGbcD3xaMEybQRc9JoL8EGsrlbsWbmB0Yq9O66xFwSRa6zcv92zPJ//tnsvJatGXcVuxVXubi7OCoyP3+LpD3j4DbeOGmTeyLh27wN3W7TPtSc2qXmVecyMbyJO7D2M2p7Z2CrOKM+comNDbZmSPrrHsSbMd4YlvQSiB9UGZ4gkQsCwAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-1px;" />. In this blog post I’ll explain how this equivalence is denotational in nature, and the result of erasure of important operational data. Even more, sometimes it’s said that lenses are something we can simplify optics to. I’ll try to convey how this is misleading – concrete lenses don’t reduce any complexity; they just shove it under the rug.</p>
<p>Let’s see what that means.</p>
<h2 id="lenses-are-optics-with-one-choice-removed">Lenses are optics with one choice removed</h2>
<p>A lens <img width="125" alt="(A, A&39;) \to (B, B&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAAAkCAQAAADlE4TXAAAEmklEQVR4nN1ci5GjMAylBVqghbTgFtICLdCCW6AFWqCFtEALaSFnmeweIZL1sbiQe8zO7CbMs/wkZFnANs03oG+6T5vwVfgv9OqbR3P/tBFfhAq9QjP62lKBMU1jef7eNlP6OQ/OpNMPzHr1zU18ct9EvWUqtnuaxvD716WZT+N4jU7/Dka9LilWpJPp0hCzxTYxW8gpa2sPiH0G0DpNaRb4EdN8LJAzGvVq02SuYnPmNIifEzC2mD7bZ4DJNcPYUNLpksQfkt2PlHDD5gAHQGBf1KPJGY16RcXVe82GPMTnW9iW9Mm+LoWsYLtq/MDpFPJc3h0855XXsjTIGE16aQRtU6SNbm7H2cCeCTl7/HCi53UaiHr6kuc4IN9wkDAa9dLIGdNQkYhAPXC2gZAXpto7jGoFr9NEOKDJc7TUQxJGk16dIg67PPF1valPuBTb9LsV2ePmWEpqIdHpTpzT5jni7qtnNOk1IOsChSm7Z11v5CWgjq0txGhU2MpBmzl4nah1eG2mWDKVhNGo10zGyrsR08aY2rqaYrsUuk3BuEJimJVNF16nSHbKFuPeR8Jo0qvN2wMZbs/IaV3cbmOzpUoMw26nW4ZEp5ksrcB5llqonpHQK4glj5vzHopg8WW7iXMThzYJJw9diU5Ytd4+izJbX6+ekdCLqgL36F6S1L2yT2dnm906BhB6d3GlwOsUnk7621a5pmBecqvFBg9GQq8odPv0ctZc6XY7m9ReGW7i/jo/7roOx5djTPMazB18D0bC7km0Aw+7FWKuatjUsPm6vc2Ol1zxvE74OgwF193YbfBgJPSSJc29NLHK7TVsvm5fHX8X7A54nag+XG9ubnkwVrgd1sDXO0BLHti2g65ji8X9b5frBMvB1cWcTvQOe3Wffv/hw0joxbsdyq+wO9Y+uuWqq2WDaZQaRXtu/phyZcGNzulE77BXJ+n3Hz6MhF4wnXKBMCGSBLPba9m8k/xIJNI9OJ2oHTbA1o/3YST04mTcl18/n9oaNvVsvm6P4jYKNy59h+1q1MqH0eh2qs61TaWebTLXFO8IxTrhFWWdSuvwnJO11mYvRkKvazHJRdIZWGeNuwp1bDg82zWzotDidKLW4fX+4ntw8VppGXEQenWF6+xSkPi9swYP+pRuN+jY6DO9br0GVd4o6USvw5FwEaeVnpECqdeCftHmWxVUmgn5u9fHhNaNEF5l69lwlMXXYVQGEK4TAKtNuuSaJc8Ku65LWtkYcRT0GpEadd7saPcxN22+25YdY45gbBALG46eDB09JE2aLTCdrjvrtwf0zinH0lpZGXEU9LoW406HcPDTraPb/TewVdcr99RpHf/4J4GLei1ub3mEQ591a9lscCz8dAIcqxWA0atH0pcN8dDX73rVgxFHjO+lE+BYrQCsXvg6o4fXky84lo+/IOGlE+BYrQCsXsHQUHiH9aUfGYYTvA7loxPgWK0AIr0078XgOPY90C7FrlcNX4N6nQDHvzMr1musTGBHRi/cFfesomtQqxPg6Ctdpdf40XdOSjiXZeeyBoPSwjOk0Xe0p/v3HOfU6QeEXn8AfdQ2W9K2REsAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" /> is usually presented of as a pair of maps <img width="88" alt="get : A \to B" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAAAfCAQAAAACNuTQAAADk0lEQVR4nO1ZW6HDIAzFAhZqAQtYqAUs1AIWsICFWqiFWqiF3hC6DShQ2ODuPnb42dYuhDQ5eZSQ3whB5LtV+NsYyE7mdytBNOgQX5Lwdyv3KmYw8fJuJQgDQ06gyU4UfHosAboZF2D9thYgfugnnox4rL3jDuXgqMnZmMYJVkJ7bbuC+H6BQsFH1I8xsfHiLfI7Qw2nPpsOnY8vQXGZ8J3vhwY9dPTK3i9fiK6paEAOtgz4E1LKlvBVihrGjf8yVL8AIcZrjGEtA44N5e7gGvVIMbF1tOdkFmDtGML88At7tJaV8QyuUQ+ZYGJrhYuaZ4S/68xTYHhdg7/arEmPgmU8QtisnKHN/fX5djkqFdrcxBOYql6fOUEGCk2fOT+Do2g8zAQ3j6fAZ1hej4dqC6o2wIHNssWK/ZwLkxXvq4N0jGqr0XagYJL6RxarGuiRAjMPTMBmD+UlGkN41/3DKe+qLvSu+sp28AJva55UJcisq+b5YeJH0zGCNVZsRDJgsNHifTdiHluf6wXpPcetMNNP6Os10J7cuUPdshwRWQrLxNJbCrSa8lKWIFNzL6AHNKH7rClcfXxn3WpiHnDe3GEnikYu9+Q4Exsn3dIkKU4MOXm0oALfGeCbCO7uUxOHR5ddHqYx8lZccqb6N5FrjNYTk2pHDD06FnlPbToghVImroXhSX+WtQYEFoONuWdWtho4kK6JSbrtGCIF/eaIuRX8ltpjxytl4jqYRMeDpYr6u/Bf10ujE5WcIV0TWxNH6yXr4C5VM09MTujt7h5MHMaKAe/SQtd0pqma2CA5n5BRJtbe9RzT9mHiMNHdfm3dfFg6Ku9L05O0Ma3b2YTaE3NlQp+JW41AUjm+tYk5qZkp5Jh4xmiPas1P9cLmiWFRE9P7b+6cmF32XmVBLpNmbN3fzVVOkSZNOwVMPqzVaTso1shbcD0UOzgvUFwmzjaQxNbf16+GWIbb2/Z3/LI+8ZFiYpk3sGUR610MZ0+hGB7wj/8Kab4bRF0OGvdTag1BcTSTCkaO19q9ulFVjyuWCQawhp28XMQnB98yIaOOcUZI6CM2vhwHROEkjmE7KeD360muvGDS2alSQ2/RQRXbYjpd2nCMwd7uWgtc67Rt3IdsBRnzHzvS/I14ZrT6Mvya+IMOmCIh+sFLUF7qop1f1f9DiGA+oaoK8Q8KwJ1C3tS6W9P3ux8gOI4nZ6yHxTvy69/FFyaNApIS2QdUAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> and <img width="130" alt="put : A \times B&39; \to A&39;" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAiCAQAAAATg28eAAAEsUlEQVR4nO1ajbWzIAx1BVZgBVdgBVdwBVdgBVdwBVfoCq7QFfwgoAIS+VFs+z2v57zz2qqEeAk3iVX1oATain7ahCj8ip0/iraaq/enjYjAr9j5s+iFg6dPGxGBX7EzgLbinzYBwVs4uPu0ERb8vvo+OzNAxSTGG8cbxGj+g1fMOpNBwCU32haC31ffZ2cWRjGN143j1cJxnRhzFgGVGUcrrJBurtczufj8XbHK76tb7GzF4CX1aAOPZC44gg8Mxqx334+w1y5raxKfvkmLY766xU45CAuflgki+N1/gAgdorJrsEXttjIMD/eadQjMV7fYSQs/JC6czpHVWRID6rx53YW7oksgHZivbrGzLSrkKOx3ar++1+WYyiZgi6LI8FUJGe6rW+zsi6YlA0xJ7ddN8OwjqpCkiIIpBEX8WfxVlGgT7hnC2bthvrraTgRTwaDN9MpTkwur3regpR9y90ypq3G0Djetqry+uFI3otbHAPfVoZ2dGLbT2peI/wYnQ6bi87Bbg/X6yIlOqBodiOSB00GenZPDvrTSJZFEqBEqKBqk0HVEFEIPBClD/O5Upp/qKwCHUPECZjdrSHmvAaQWE6agj00qUKNIKYkiD5VMqf/x8DNllTe5MR2V04fho0I6DSojMzDvowRkqbIMEVbm5vo5vhIDjvpiecF2Cde5pvydVIpbpgxsPatkiGJfTh2AWmWRd7QkdamQQwOmibCVkhpxzwnKSyXBhaU52X6mrzq9zgfnAqaZxPXvjfO7Txa+o9R8B1EjDYN13zEhNzGpkEODRSFw6+iNzbQcZJROHyPTV0twm5zQz/QNFna5D34vC+tiNQTmxJ4xaaSFCnk0wBSCvOu7sP4mQIW0qJDtK7U294WgVn/DtUmzVZakHh3dFashuM7giZRTVMijgV8hSLQ3FLYUeVMS8pO+2heCuNWucH/PVwjpkHul3fWbHFqGgVcCzlw5e2MFDgqbZ84RS+HTvup3D/FlTXJwyhD5CiEVUvow5+irtNqiWld4XeEIeA1BESEt/3FnEj6Udoub6wW+cltFxAqI6hNxzr9HIQyeSbCkyS3aAKsrHAOrIUhsfYZSSKvUnvYVphCWR99Udlf7PoXgSp/l2/gyiSkRc6iAKYSlyVuyr8+TVM15X3kUgr3fuy8ybAqhXr+3r7iqzYlp5tjJuZlCKhWOFMIIy6FcX59VaV2Bs76q9gpBrfhtK3CJsJ3frUHH3FzqgLNjgzpHJxBXL/MljGlUwBWC6uuVTB/HpOV01leAyTl1dNzXWUSghizc4oi5uRwXXl9V3Ktm9YHmiKmXYXWDFCpgCoEXpwFLyovO+gpAtehZhu137qOQlCgQaEnNuiOx0WNcTekDLeJ5Jz33INB0wYIyg9+mwD3wukEsFXz7KxWPX3VLyhaY+2jFdYWvAEohyAfcwhuHvYeJDbiOQReSwlob4dzt9jWUYVtPl9JF+NXJ0cigfdUK88A1dX8gtEKbV+OMYh5TkOpXILaMdI2vAFuKIvNOPBzZzWW2WxHE892DXOS16k+h5MskD34GvprAgz8IX9fgwR/Evsvw4M+B63z4dfhq2YP/HuY7N+UTogdfiX91+uFdlmg7HAAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" />, thought of as the <em>forward</em> and <em>backward</em> map.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<center>
<p float="left">
<img src="../images/lens.png" alt="A lens" width="400" /> <img src="../images/lens_traces.gif" alt="Data flow through a lens" width="400" />
</p>
</center>
<p>We can imagine a particle flowing in this lens, starting from the input of type <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />. A lens takes in this input and produces two things: a copy of it (sent down the vertical wire, where the operation of copying is drawn as a black dot) and the output <img width="15" alt="B" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAQAAAC2NjfhAAAA5ElEQVR4nIVTURWEMAyrBSxgAQuzgAUszMIsYAELs3AWZgELXFa44/Fo2vSHtzbdkhaRNzapJIoko/6BCSVZDsSKrzsW+eCsIh8gKfldVnHaZPDJ/ebdfFVvmn3yhpLNzBz6dBc76T8o2W57gSkWmNYzi0cuRLHArAOeu6jkaas2DUZlOTpcJgZjShf5Xo8ZdzZdmRCn4vKIFVJydGuHrXhCw933uYPt0EIH+AefscQLwmd8kptHZjP+kd295n/NrLnCqZ7iqoJGTuaKc/xLMMUlpiZD1QhKU5fpcp5m2NG3erZIX9lZjeq4V/EkAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-0px;" /> (via the <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> map). This is the <em>forward pass</em> of the lens. Then, this output <img width="15" alt="B" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAQAAAC2NjfhAAAA5ElEQVR4nIVTURWEMAyrBSxgAQuzgAUszMIsYAELs3AWZgELXFa44/Fo2vSHtzbdkhaRNzapJIoko/6BCSVZDsSKrzsW+eCsIh8gKfldVnHaZPDJ/ebdfFVvmn3yhpLNzBz6dBc76T8o2W57gSkWmNYzi0cuRLHArAOeu6jkaas2DUZlOTpcJgZjShf5Xo8ZdzZdmRCn4vKIFVJydGuHrXhCw933uYPt0EIH+AefscQLwmd8kptHZjP+kd295n/NrLnCqZ7iqoJGTuaKc/xLMMUlpiZD1QhKU5fpcp5m2NG3erZIX9lZjeq4V/EkAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-0px;" /> is turned into a “response” <img width="18" alt="B&39;" height="13" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAbCAQAAABR545VAAABJElEQVR4nK2VDRGEIBCFt4IVrEAFKljBClSgghWsQAUrWMEK3LLInY68Yx19zNz4w3wsbx8e0VON1D9m7KBI2zuoiVHrO6iNUQ6/nimA4cmeZlrZXodRhqc4nhS5fHsYIy38LPD7Is/3vlW4FZS5PA/iTalj5btm/xzojJElsjs9X80tUPILTYuyybKcrc45CXWmE9S8L6eIAXIqRzLyb4aObZSHGU5GL3JldCkPwKlJlqhVCxUrTnV7K/4E8iq7o37hHLieVQJ7U9kpfxoTb9rdqyip7lSyedP07KiaU0kjjAgQzhQd4qkSzlRG3fjQoUwVVNCjkFPEkYia71PRP6eCbF39/4Kdct+DrBRyyt8F2YobPQNW6Zzy2GRL6yOdvqGN+ACxYKOQNBTaGgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> by the environment (not drawn). This lands us in the <em>backward pass</em> of the lens, where it consumes two things: the response <img width="18" alt="B&39;" height="13" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAbCAQAAABR545VAAABJElEQVR4nK2VDRGEIBCFt4IVrEAFKljBClSgghWsQAUrWMEK3LLInY68Yx19zNz4w3wsbx8e0VON1D9m7KBI2zuoiVHrO6iNUQ6/nimA4cmeZlrZXodRhqc4nhS5fHsYIy38LPD7Is/3vlW4FZS5PA/iTalj5btm/xzojJElsjs9X80tUPILTYuyybKcrc45CXWmE9S8L6eIAXIqRzLyb4aObZSHGU5GL3JldCkPwKlJlqhVCxUrTnV7K/4E8iq7o37hHLieVQJ7U9kpfxoTb9rdqyip7lSyedP07KiaU0kjjAgQzhQd4qkSzlRG3fjQoUwVVNCjkFPEkYia71PRP6eCbF39/4Kdct+DrBRyyt8F2YobPQNW6Zzy2GRL6yOdvqGN+ACxYKOQNBTaGgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> and the previously saved copy of the input on the vertical wire, turning them back into <img width="17" alt="A&39;" height="13" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAbCAQAAABc+f4SAAABBElEQVR4nKWVYRmEIAyGqUAFK1iBCla4ClZYBSpQgQpWoAIVvLHjThicMv345XCvsH3PVOqJXmp6lJ8hu4rPMRYxQfplaGIRMasEMmGCZzFDV9ISjMeUjcUAY+0JT7RgQlq1AkYEfdJ4Dttg0jWd5CyAZQTCzEV0xWczDpmoJithyjQna7WjZEOY5RfV+PQah5h8/w/m6Mssc++We6EZRiQoEhPG3oFMleFix8dDclVn/D2MYebyHR8PaGNGhzsYwFr4agXCiGZdKq5hyzY+vpTrvG6kGF7cEiMwIC/uVyIM/H1V4OP5pKmDPtY4VSIbTocM7YWrEe7zvN07w9EVe3v/p/IGTAR7dHkFbeoAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" />.</p>
<p>A lens has an inside and an outside. The outside are the ports <img width="49" alt="(A, A&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAkCAQAAAA3b0zKAAACVElEQVR4nNVYAbHDIAzFAhZqoRawUAtYqAUsYAELWKiFWpiFfmD9u5YlEAi9f//1dre17CUPQlIixH+AFtNfu8CHFod49f1VCTvWFwZskLGf36Vw4UOEFht5sBam3bMmtleQsX5+zcLTfJuDdqqIKZjwxLF9bCqF1NWfOMlVyCBiIRv2wQiBlMFmwr18hVw9AkzD7C7BRLzGAGbbw508T8VVUyWq6oALZJg5O0wGzBb9ccBoW46ByuMbTNh4Jhmeyf9pZVuRaZ3DfY1RTbecUMaUBK/JMHX92tncJ9Xm2PDgX4E4xOCSOZUM01NCG5sszLnBffWo9hzqjNi3YW7lwNjmQvVWWORE7dTavZ0zIYfI6GODN3/SR6Mwl3FHg/ixbBscO1hWyDHdstmLWcf72Tyc6g1RhruN8kwZ/WyIv45UAVQWkZ5VADlsiAxkkTJsWZozLBkcNoYME6LX3649Ge47nfHYDFxV6jLidlTZZbvrOJfNwIU3yiifMxxgQHXL4LIhQVXLVPl2vBpuL4B8tk4Z+Xb8RZ8MPpuDd9FSfL81KDlUeWth0cYGA9nLU2Ee5sL2/668W+Vo28aGj0TG7eADGdbohZZGlZ7dmxBH4fW9nQ1GYdItkKv86dQBvFG6y7PjEpI2rQZkpIcNhsbfOZYhR6A31ND+1Tds6Wy0D+sWKvysPACyvFq6WgKpMI+2j3XWgvsCHNPtAE9mw7DXvIy5gj+PZkC3BMdKaUO19A1hPNuPn8JakDpjlhlYT65E7C6Ss6l9NM9w0OjZiIbmeEh43/4AoWpTuw6+tXYAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" /> and <img width="51" alt="(B, B&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAkCAQAAAA+hOywAAACeUlEQVR4nNVZC5GDMBCNhVjAAhZiAQtYwEIsxAIWsIAFLGCB26RcS8u+fJbQm3uZzpQSXvaX3SVV6j+hV81fi1APvdrUKnvUKFdXlgpwpM6yf9dqpE8mejXnT/4aVlJneF61asqTsSUb8BNHouCHJX9KkM9oQqgd5fJGT0KTMh241xLpQLQbOd4chifeSIS2WJ18RkvX9uPp8fTLCZZIYjBh8bPgU4hsSYjmMS509ZnXGvotGhXJCcGWXH5pg1ADcyeFHEYv18jMcfGAS9xW3sE8sQqLxz0rZxyAmb3KPSJuMuy7gjk6LM6LdZ1xfKboT8zYhAMTn+9Acf4ochFLXWLUEWaLZZ6gDY4P85XZb9WMxClibCPdgEERpUO6jGOCW9ILVZ6oazCCEDdMZj8/eraF3jezrI+4zjjzMYWyxwtmX/xV7jqy4hJKoAw1GL1/GdikOo84t2/DEd0g7vBqMAK5R5BhXuDj3G/UVZDTajECdYDTDkB1v4fJNoUajEJ1cIVQwhJah9HyVSmlDq4Qj8VTNesuRs/CvAN4dWIbEFWI38XL+7U6jCDYUpkNd8xduJd897iJUaROLM6nEDSlpyy1GEe+a+ui/TSO8wE0n6lCWM7IA+z5JupeFOcWLD0nW9JSRoQV7bEFbj7DxHJDSy4h/3B+2MJApw4SRh4RJzgmt3W7YNzwvRUS2AXvcAtJGXn0uNx2UXuWwwiyXSlcrDotVU8/jbCTy4eOpq/gunrnn/b2I/L+4yjxBD7eZZAchJRhSUlrBAWRh/SgNx9DzulE6hw0D/f/B9GQb7JeIVyFgLvbM5o8k52F3e056SoKJZS8W34Pmt/fPxDco/OUew8QAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-5px;" />. These ports are the interface to which other lenses connect. The inside is the vertical wire whose type is <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />. The vertical wire is the internal state of the lens (sometimes also called the <em>residual</em>) - mediating the transition between the forward and the backward pass.</p>
<center>
<img src="../images/lens_residual.png" alt="Lens residual made explicit" width="600" />
</center>
<p>In the lens literature, the notion of residual / internal state has not been reified. That is, when you define a lens, the type of the internal state / residual is something you have no control over. No matter what <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> and <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> map you write, the internal state will always be of the same type as the domain of <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />. What flows through the internal state really won’t be any different than what flows in through the top-left input of the lens. This is important, so I’ll bold it.</p>
<center>
<strong>The type of the internal state of a lens <img width="125" alt="(A, A&39;) \to (B, B&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAAAkCAQAAADlE4TXAAAEmklEQVR4nN1ci5GjMAylBVqghbTgFtICLdCCW6AFWqCFtEALaSFnmeweIZL1sbiQe8zO7CbMs/wkZFnANs03oG+6T5vwVfgv9OqbR3P/tBFfhAq9QjP62lKBMU1jef7eNlP6OQ/OpNMPzHr1zU18ct9EvWUqtnuaxvD716WZT+N4jU7/Dka9LilWpJPp0hCzxTYxW8gpa2sPiH0G0DpNaRb4EdN8LJAzGvVq02SuYnPmNIifEzC2mD7bZ4DJNcPYUNLpksQfkt2PlHDD5gAHQGBf1KPJGY16RcXVe82GPMTnW9iW9Mm+LoWsYLtq/MDpFPJc3h0855XXsjTIGE16aQRtU6SNbm7H2cCeCTl7/HCi53UaiHr6kuc4IN9wkDAa9dLIGdNQkYhAPXC2gZAXpto7jGoFr9NEOKDJc7TUQxJGk16dIg67PPF1valPuBTb9LsV2ePmWEpqIdHpTpzT5jni7qtnNOk1IOsChSm7Z11v5CWgjq0txGhU2MpBmzl4nah1eG2mWDKVhNGo10zGyrsR08aY2rqaYrsUuk3BuEJimJVNF16nSHbKFuPeR8Jo0qvN2wMZbs/IaV3cbmOzpUoMw26nW4ZEp5ksrcB5llqonpHQK4glj5vzHopg8WW7iXMThzYJJw9diU5Ytd4+izJbX6+ekdCLqgL36F6S1L2yT2dnm906BhB6d3GlwOsUnk7621a5pmBecqvFBg9GQq8odPv0ctZc6XY7m9ReGW7i/jo/7roOx5djTPMazB18D0bC7km0Aw+7FWKuatjUsPm6vc2Ol1zxvE74OgwF193YbfBgJPSSJc29NLHK7TVsvm5fHX8X7A54nag+XG9ubnkwVrgd1sDXO0BLHti2g65ji8X9b5frBMvB1cWcTvQOe3Wffv/hw0joxbsdyq+wO9Y+uuWqq2WDaZQaRXtu/phyZcGNzulE77BXJ+n3Hz6MhF4wnXKBMCGSBLPba9m8k/xIJNI9OJ2oHTbA1o/3YST04mTcl18/n9oaNvVsvm6P4jYKNy59h+1q1MqH0eh2qs61TaWebTLXFO8IxTrhFWWdSuvwnJO11mYvRkKvazHJRdIZWGeNuwp1bDg82zWzotDidKLW4fX+4ntw8VppGXEQenWF6+xSkPi9swYP+pRuN+jY6DO9br0GVd4o6USvw5FwEaeVnpECqdeCftHmWxVUmgn5u9fHhNaNEF5l69lwlMXXYVQGEK4TAKtNuuSaJc8Ku65LWtkYcRT0GpEadd7saPcxN22+25YdY45gbBALG46eDB09JE2aLTCdrjvrtwf0zinH0lpZGXEU9LoW406HcPDTraPb/TewVdcr99RpHf/4J4GLei1ub3mEQ591a9lscCz8dAIcqxWA0atH0pcN8dDX73rVgxFHjO+lE+BYrQCsXvg6o4fXky84lo+/IOGlE+BYrQCsXsHQUHiH9aUfGYYTvA7loxPgWK0AIr0078XgOPY90C7FrlcNX4N6nQDHvzMr1musTGBHRi/cFfesomtQqxPg6Ctdpdf40XdOSjiXZeeyBoPSwjOk0Xe0p/v3HOfU6QeEXn8AfdQ2W9K2REsAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" /> is always equal to <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />.</strong>
</center>
<p>With optics you’re in control. The internal state is explicit data that can be manipulated at will, and doesn’t necessarily have to equal the top-left input. That is,</p>
<center>
<strong>Optics reify the notion of the internal state of a bidirectional process.</strong>
</center>
<p>Let’s have a closer look. An optic <img width="125" alt="(A, A&39;) \to (B, B&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAAAkCAQAAADlE4TXAAAEmklEQVR4nN1ci5GjMAylBVqghbTgFtICLdCCW6AFWqCFtEALaSFnmeweIZL1sbiQe8zO7CbMs/wkZFnANs03oG+6T5vwVfgv9OqbR3P/tBFfhAq9QjP62lKBMU1jef7eNlP6OQ/OpNMPzHr1zU18ct9EvWUqtnuaxvD716WZT+N4jU7/Dka9LilWpJPp0hCzxTYxW8gpa2sPiH0G0DpNaRb4EdN8LJAzGvVq02SuYnPmNIifEzC2mD7bZ4DJNcPYUNLpksQfkt2PlHDD5gAHQGBf1KPJGY16RcXVe82GPMTnW9iW9Mm+LoWsYLtq/MDpFPJc3h0855XXsjTIGE16aQRtU6SNbm7H2cCeCTl7/HCi53UaiHr6kuc4IN9wkDAa9dLIGdNQkYhAPXC2gZAXpto7jGoFr9NEOKDJc7TUQxJGk16dIg67PPF1valPuBTb9LsV2ePmWEpqIdHpTpzT5jni7qtnNOk1IOsChSm7Z11v5CWgjq0txGhU2MpBmzl4nah1eG2mWDKVhNGo10zGyrsR08aY2rqaYrsUuk3BuEJimJVNF16nSHbKFuPeR8Jo0qvN2wMZbs/IaV3cbmOzpUoMw26nW4ZEp5ksrcB5llqonpHQK4glj5vzHopg8WW7iXMThzYJJw9diU5Ytd4+izJbX6+ekdCLqgL36F6S1L2yT2dnm906BhB6d3GlwOsUnk7621a5pmBecqvFBg9GQq8odPv0ctZc6XY7m9ReGW7i/jo/7roOx5djTPMazB18D0bC7km0Aw+7FWKuatjUsPm6vc2Ol1zxvE74OgwF193YbfBgJPSSJc29NLHK7TVsvm5fHX8X7A54nag+XG9ubnkwVrgd1sDXO0BLHti2g65ji8X9b5frBMvB1cWcTvQOe3Wffv/hw0joxbsdyq+wO9Y+uuWqq2WDaZQaRXtu/phyZcGNzulE77BXJ+n3Hz6MhF4wnXKBMCGSBLPba9m8k/xIJNI9OJ2oHTbA1o/3YST04mTcl18/n9oaNvVsvm6P4jYKNy59h+1q1MqH0eh2qs61TaWebTLXFO8IxTrhFWWdSuvwnJO11mYvRkKvazHJRdIZWGeNuwp1bDg82zWzotDidKLW4fX+4ntw8VppGXEQenWF6+xSkPi9swYP+pRuN+jY6DO9br0GVd4o6USvw5FwEaeVnpECqdeCftHmWxVUmgn5u9fHhNaNEF5l69lwlMXXYVQGEK4TAKtNuuSaJc8Ku65LWtkYcRT0GpEadd7saPcxN22+25YdY45gbBALG46eDB09JE2aLTCdrjvrtwf0zinH0lpZGXEU9LoW406HcPDTraPb/TewVdcr99RpHf/4J4GLei1ub3mEQ591a9lscCz8dAIcqxWA0atH0pcN8dDX73rVgxFHjO+lE+BYrQCsXvg6o4fXky84lo+/IOGlE+BYrQCsXsHQUHiH9aUfGYYTvA7loxPgWK0AIr0078XgOPY90C7FrlcNX4N6nQDHvzMr1musTGBHRi/cFfesomtQqxPg6Ctdpdf40XdOSjiXZeeyBoPSwjOk0Xe0p/v3HOfU6QeEXn8AfdQ2W9K2REsAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" /> is defined by three things. We need to pick a type <img width="43" alt="M : \mathcal{C}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAZCAQAAAABURHFAAACEklEQVR4nM1Xi7GEIAykBVqgBVqgBVqwBVqgBVuwBVugBVu4FrwYUAEliMfMe+vM+5y5sEmWBBj7v5BMMwuPpIxGNh8PBc6mw27sSlMAxYWtx2PLppIpNgRjRbi07AMWDuJXdPRN4OB3hTRY4GDB+8aCThosPqKZLloodEpZvIEEejNkdofANSp1MxDXTBSAgwONjnpCQq1SYp7sQH9tAjOK7CZ7Wy9QEzaqub8B1lhqX3RIqERGYhCOln4jOJD6wM+cRzWvEothilFN4JRXN2AbxpvQ1ZO8GoxGFTRpkGJfxW5rXfM6QQj5ZxdMuB8l0hHZOxHif65YDlRqS1L7owIXft8Veo/1uWKXajF9Wl71anm0j+Uibx36aoti16pg7BNt3sMcBPPibAPWY2hQrAEidA2WeuMvYTp0OuLgO2GTN716rKjNfwru+CvdRCpyuHTssfp9E5RRQTQ2lB3n56Jrj7XvvZloS8WdNj5Xtii2jh/ITlFnPfe8SIreU7Hsl9ObS/7byaaTpKdid7Ilf7qcc5m1EN+8TBJ3X8XuorrrsxzXLw4Lkw0BTzYNoF2xdGAijA1zeWPpM5fLHNubA0arYh1efijMSPaT5XCgqArYXGumTnOJWODNq2Xe+LxRRxmJPv0FxidLQwBLSQAqukvGU0tFOZSJzYPrRoB9sB1PumvIsq0fDv8OHCror/a2lIQvFPcT2Z1y83gAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-1px;" /> for the internal state, the forward map <img width="114" alt="f : A \to M \times B" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAfCAQAAABdC6ncAAAEQElEQVR4nO1agbGsKgy1BVqwBVqgBVvYFmiBFmyBFmzBFmxhW/BB0FVYowkLzv1/PMydubPLSswJyQnaNFfoGtPIy1m/4eXWeFARshmdi5X76yuu0jZzM1S8Pg29s2EdZxCN/cyr6ZUAu7MqHp4XIkQzwU2p5u1cXW9XDu7qY7WrUyHdfb7cHc9unLnIgDdGl6lU9UwVrNJgU+/+28bLWeDDn2SBv4BuvOmzM15UMrUDM+dKV+dBOnd5Wzp0hgJvnM0oDwUrflPmN8BE4WVcYlNWrJLCrdL/GSK1i3TvHqxiC2drd7u1GjbSNyRYoq9+Lm4x2DhDDBJx98O6en1GpIGgvruiW7eiPfxmptiibqhcLaygL+vSXfDW4ERJIHg8IboO3si+C1vtmOIdDBTYurBAnypcdWaXIHMg4X41VJ4jWOc6QQ66szmCkX+wCumbtplyr5aSf3+CWqIpmFouynPbAg1OUUhJ0UANvUK+USu8LjiqeccwSIVsQGGf5swgcCcgUhFEtnBzcjTt6FJr+H1ZInWmxrZgT5AQbfJdu9hHr5ASoTLQSN+RA5I+eyD49DoGRnCuH1ebd0KT0dUqK+aiaVy4G8wJizW6j5Jnv4QGp0IeUcmlsTlUpmIRQIRwVQxycvrANkoK78JK0Dft6Z66gvw4ffqqPN1SwekVcr1mTCWfRrUQuR0FdO6KExwPkKApeugzd2LvABsZMhSX9KMbvPSqP+SlDYj4eOLFDtk9lXwa1wppouEPEzX17vqqIlslQTIU71kFUMnZlfYzu0+C2ETfcANupTKHRqxC+mu+adp8ZKUQLlIXmwqHD8FxdN29pfpY0KhdQE9Z4R2ozKHxuEJ6vKiHKEfKrRR8BYtP8qfL9VqoozmD5j65q2VdJPi3z9vsgwu8F8z/HekwQKK9y+/wMkcloye4KP3N9bCws2iO17tEte8k96fM/AoZEHID3lfiwHvIQOSlHH0VFx8b7IFrVXas4+hZBxp2lw82bdpGiTSnQm61Eesrz4D1kB6kc1ZTTeqkMmf9tOyRQEjfnFQWn5CsRPaRNsypkHuJw6cSf7rR0TzmI6HOEzdMSZYlUn11gueQiYNDA6IjH+RUyFSp8qg8q5ADJN1LFcOVOtTbMyhZZc92BnIPHKAT2gORsT38CnnUcHCoxCtkeF50GaotU+r4VoXywEueOKLk2Y5iK+4xCcWjdyK4FRLrG+lUYhXS0GgM+ZdjcpD55ycNAo6ysUQR3goivbZAQM+yvgV1G1fD9SWX/aw3M2fgfSONyiPd0C5vFU20HMiVOtfzh11fl8aYTfq+3x+d0Y8BVLSy3X2+hYL86kxp1bc/EVtpTY7Rfa24jQleNiFiKN4K3Iu8h2r/Q9Q7DHhwC9Zup/4rHg+qQYD29LVFZ50KPvgj2F6AuuNF+AfV4OW1p/HFfiD74I9BQv9lHhr/m/gHKyZlhOC65GMAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />, and the backward map <img width="119" alt="b : M \times B&39; \to A&39;" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAAAcCAQAAADMvUu7AAAEcUlEQVR4nO1ajZGzIBC1BVqwBVughbRgC7ZAC7RAC7aQFmwhLXiwaORvcUG55GbuOd/NN4nicx/wdtd03T+oGLv+0xRI+Cs8vwhjt3avT5Mg4K/w/CpIHbTl0yQI+Cs8vwovHbTp0yQ8jJ1IfJrkybpZH6s+5ttpSBjbHjmwTr3Pk7eziKEcXv4hOu6dyWGzY7/AiYo+qRTKk3cPvaDX5Hy4hkGPPcLYaxA0HwLm3VPz4Pqa9jC8JmAl9f+OY9QcTOgODqJJXK5ghkiFyPJcTsJfjwHcYNXCYeBALXdGC3C4ZzyVZvCufQ2YuHxTDvoA1mv0eYZnn7zgHkx6PcyZecW0+I+G98cwIdnlAFyse5m4qN+llQXTa1YmYpXlOTZxXAulb50TV+hwiob3x6DQgBz5x9RsP6uD0IxEYsfJ8pQNneXZdRnxBrjv8wPOhmXBDIJnZVdfVVz0EMspkcFkebZ1XEsofXulg8lOE64duXNYUSqGOa7dxVb918o8Fox5hqujKXh+HuUnWZ6tHXcnlPrW0KU77gstlIwblfRnBNrPWd7Z6HBzx+damce33cTG0t3nsjx3xzVZq9IBz1d1TJ9Hr/sU5HA2SQmzuX6jSHfcAZHXSluycmfEcSWI3qYcmy5VzM8tfiwSNwvruEr/Y5C7PrMUlqI2116RpTZeud2nxHFT8pZL2zkZsTuOTbJatSyYZlmbWQjnSlufE2Hl2oPDTi5N11lpDO+RlsgXHptv0B13H9OXt0Zavol7tC8eeswFWhotYZo1NVVz77UtXvTaoo8Mes4W7pMOAnX+TW9Bw2KIvTfFsdjxXXlrpN0dV3iHaZWeWdJ1PE/2xTSUN+lmurhxjTvfljur9ySRgccJ75vSGneXt05azHHNqK9b8+MYDOQtW7084DrTl0Nc497XZz42Ez9p4s74dXez8tZJm3ZcgxEtkO6DnZAl75nCySDo4oY1Lrutzzs43vjwSo/j877QcQ/gleqVK9fkmsbRgwPWHNRpaXzaf3O1JGuPJLlwFtQHLcTkbHFupSuc0csd18LOf7zuzQGvca24ZV0pXnwo2MVoE9qkUuH1krogYsfNPXoZlDO7jpy49zbhGsc9vBare/PAalyDNu+1XUjEEtJQCRE5Vdz4PWALxzXYCUkvW6y5m5tG1ciLOe7eK2vZ5RZFWUKYSu2fElmK4EEHWLd3vMEcgqDbYmjy3LzGccMMuVTenO3Mtz09fu+SbBzLq4nijkHyRHk/RBNjCh7DiuvLUO64qeKnTF7cduz7lpal0FyUrAlUCWKPqvfE5IRc0TQL4595pM7zJ4ENql/AlzouVteWyIs5rmguLafluBuGzLQn96jkWyoborP+iU3k82f1kBH6Y02R09kyomRLxetaqrwpv+q333ktjZuPkjyRGbxkwMyDw3cLpdNlGoFKb81Ch46SxZ39ZIx71ZxyPj8ebYiqPtqKkZlkJPT4EI/onsexwE99WoPaupiT8bNQAXPCiD3UT/9oi5JXpZfwA8KzlXYgdjJ2AAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-1px;" />. This is in contrast to a lens which was defined by two things (maps <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> and <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />).</p>
<center>
<img src="../images/optic_residual.png" alt="An optic" width="600" />
</center>
<p>In the image above we see that there’s no <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> map anymore, it’s been abstracted away. We’re also free <em>not</em> to copy the input <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> down the vertical wire. But we can if we want to. We get lenses as special cases of optics by setting <img width="53" alt="M = A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAAAYCAQAAABXAMvoAAACDUlEQVR4nNVY4ZmDIAxlBVZgBVZgBVfoCqzACq7ACq7gCq7gCjZBRUCEeJ+W7x4/epUQk5CXpMfY/8eHGYpYzwa/SuDMern+EQP/AsGWip0bJFMQgQnEF/jrGobNIDGyDqTkQ0bex+BsIEJC/NGt7lJCgVtliV+gczYsVHEN94VxuMpaDm53dxS+Ag731N+xwkLOltwycJ+GmtWvwUD415whkmB0h67Mls7dseD2LyCclbpaAzykq2x4YMruW7h+Tlf3Eqx7u6IzHJm1H8jtorrWzFLg1vq5ULMGmYV3hgdEsic2Fa2ZNW6Wcbpbex/IpVkPilaZlswywbvRSsI4IL0QtuRPtNdtWdyWWSJqwDMtb7R3JS3xfMtnnMNozJJbu6QsTXIJYaOADjS3rOcTtjob7Jhoh8YsRV6cpO8oFjsGWoiPC47LggpubmrIrDEpY4bilgzoh0V89t+O56Ihs3DAHqI1ZSt2Ah0UibBzmWBAoTLreWCxSJO3pwTZBn4f9U5EKUdn1tOwGfMVxa34t8t+oI8ITWeWSBKmtOoDUFos9qfVhiyTxraWeB298h6ztGudlFVhBzsXix1Vt3TSfle3YldbMctcml6dM8bkFoyrhXFHacMsWQhlcc4QkLlLwiJ96v7CKfntv2Q42DBf/lhUbm/KtXMVjTE2eH5E4TwIfc6KXsCQtWyFzQ9gX6emOHBds+43AAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-0px;" />, <img width="116" alt="f = \Delta_A ; (A \times g)" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOkAAAAiCAQAAAAQETYfAAAEvklEQVR4nO1bi7GrIBClBVqwBVugBVuwBVugBVugBVqwBVuwhVw+mvhh4ZAYNG/ece7cO3eMLrt79gdh7D/WEKy/WgQYnCnz8wYaJll9tjQQONOsKvrGlg2gklqjletRGw1lGrU2S5TGc+UlvivZo+h7azaCCqqMZPrL0mCwTpgBbpZoBRdsMksozVTu3vooxlO72ga8Vxu5slT5RaiceNEZwTvm2TK9F7U/gDRKexTkqYR51zi5Hl+VBoeNGAK9eZhvri/IptwFwbEYT3HFcKOX/kYmZUYaMGLwS8WWLpy0xXgKq8XI1bm4VT4VUaiNLC1yo7gwX/BnoVKGp9WcYpA7rU46JxUc7r6OAUsapevN7buXlF+Gpx3sNsoZUjipkGIqZnZ+Gs8lJr+CPfds8E0zUYKn2rwFgTBa8b+tTEilOZHuaHPyhIkHyJWwlXDX6G6zf5XOGXKjrDN4ys0q6Iqdw88fZtfisElrwqjeoLhm7cBHRTLmY3Y2AtJdXmh7Qan3NPBDw/85T+0TaB4K0DxrV8PdLGTUPIPagY9y6+/Mk5ogI4d0nBFRJXwT8qDez3ka7yM7qNSpNsXilDE/2hs1z6Dt5tPSueeRZDrdnXQpKs+oZ3UhF5KZjxy1+JSnnXkCzUMJmVRt7tFZI8G1UXMZOm1cqSY0AayhB4PRknmRC5k/HTlqkcNTlZ37FdBjip2D68yufTFqbg4ddpU1FT0Bkw6Q556NMEctUJ5iQXQLIGg9C6MFMnsQ442aZ9D2YMCOcG3ApCUH5i+EOWqB8bRyOS532yttUmmeqzfXO6lAZM+cxsNqqNZSpiZItRvUlwbNUXRfps9IGC+kTGoLo30S6bPnRz7k0n1q6L3HgQa1JyZTo482K/mfhfiurEzytHF9dL7k1qSxPK8CphOZJl1yKNWnhuAj01oymmrJwCthX692ASl2xQdolocxDqZ4yue93fzJdFwd+8Jo+S86bPCyvXIoblQZzKThPiRpUg1OMP1rJHjFg2b65ISMqnHZAMzfP4qrY18YLcBNuq9yUaPKQ8Shh7QqlZTKF0cpji73UJvx4qneKRhGYx4cnsd40AUb2laF2hbMqPskUkVOlyTqgeqC4sieKUh3torkxuusnA5wbohm2IrkWx1RFDY/ovpQzKjjKolwtwrKLlNcluaC4mjMmEIdeSpXRlSBpPFIxJ0xsF5umEuzwp/HSh8/o/tQxKjN0z3tWcCezKS0U87Ai6Oz0GYY9DharNw5xuXSAel75wh08O0PwVqv3rZXo4pKs38y3YfWUPC129vK3MkjmbQlXW9GKHTdGWrDP3q+Qq+pySgHrwMdM/rUFssVY4b30ew8l+pM4xX3ePtT9nRPyulIsfRN1x1QyQc/mK8+dHMe8X2lNlgn3wl0T9qGuwBfT3XzR+9y9i0FK/V+shk+2Vgl3XS4xVciXug3Xx/xB2DDqYPYOHwdkNI/w1E996nd5n++dh52Hq2SXa8AOuNyaJ/28LAFXHgs31HTMtvGNizniz6/hAY8iHKP77lYiFX6q5zzhsu3yrgwGVNrR3X5Dxo0Pjtao79R8BXOxbSLmi1hFZt47l+pX4y+8OG5z/Bb0l6GXykNLUeDuf8Pr2CvS7aDaAAAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" /> <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, and <img width="54" alt="b = put" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAeCAQAAACMR1iyAAACWklEQVR4nN1YjdGDIAxlBVZgBVZgBVdwBVdgBVZwBVdwBVfoCv2SgPJvtV+xZx93PSWRJJAHoYyt4GyC9oQ2sZ+DYh1bIDT9bUfaAENT33biTfSQb6ImFJSQd8XusvQ3ZtqLZTE3ZtqLZbkz03BZhprw/kyTNeG6pAqScoQZ4Bc4NIDF1RKHpxFsh3kjyJcu+UpuQXDQVnRsPSnjsBUCtEzDwTk0w+bmwWmYTgZ2ZvjtwDIGpdiDem0IBoKT4FcYHGbXsj1rahP12eeeZVhI7OfjCQO3BHe012TJ28J34eTceRJuEJhdYzLWuLcBWqaFszM5Ezkk6R5rVWqDpNvcCl1XblK1k3eJvLRhPM6dadOOujrc6kk9OtmSTKlynsyVUPINQ54901rXk3bsfF/uXY+Vc3rz2YP6j2Sk4dyZxrMEbYM8W5Brc1X+JtNCKOqpnhQfQ54tc+Q8ut0n+v9kmi4sfAuUs2WI3niif4pp+hTTBF1bj7X9lK4xbQ2mi5LzLabpZJklDVG9/YCuPtjqY6yBxG7FvEmn3DNNbv3xFykP6ZNwfq+6A6R27Kr4BExD8/rDlsZhSsu8zBDREKqwC7XBktQ8EwQWMmmI/BLBhuHXOkzpsXSOmi2nJQxgLimOLdP8td8kgdlg1iA41bdPV2n6gKctNFNmNn6INbaGEOvF0WdhmYaWe/pnwxSY2dFE29uIAN0Z9HpXXVrgUmBRnN8QAggqja6DP6PQbn3Dia8quY/8Yr8PYPf6eGeUzqgfQaka/BHc+f+zHWjaxrGIKl7474ywFGt0cfoDvXdgN2BSmM0AAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />. We can also do more things. If our category is closed, we can form linear lenses. By setting the internal state to be a function space <img width="90" alt="M = [B&39;, A&39;]" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAkCAQAAACKotj6AAAD4ElEQVR4nO2ai7GkIBBFScEUTMEUSMEUTIEUSMEUSMEUTMEUJgUXGz/8uuGN6JS1Xqq26u04bXOES8PI2P+mjtWPjf4gdWxmn4dGv0lcd8I0fiJKr78/FcsJj14m25+IQ9JLq05E+egookg+HZNE9GrNlQTds2FvlCqm9uv6U0nnaEk6LmXl6zbpdZPD1D7zoDbVOpJPJxadBN3oDzs9BVIDX8ITHFmrr2q+TjlXOOglXwHZ9us4Mq3TuS04jtyk/jsch99ogJ67ikVPWkcDfjNriJg4BKauKCsc9PbpHHncA7jmNsqWwVOiKmhX/3UVi54ELfR4GIjnX+kH0UZudp1o0AJZ7xvI0fjmMt1VgUwqPZb7oO/x6EnQSn+RAi11F2TEp64TDVqhEOc9S1GoBpA6kgxmUDx68o4jYwTIBh7AWMzxckSDxqqJCoCYR6CKFHY1sBHBChaPngDdQBUh0JpT6Q5UN1eJFGjMoc0WYtb/GuRdgTwU9Jl76xMWPUFIwJc44sECvnyvQ9OgJbojm/bqoCmyZ+Pr7DBsjvmMRU+AVrB6moXEX0frNfy9Dk2DHhCH7uEBlCw9x5VH5YHGlAA97peFF/ZrsXSvQ9Ogj8riULUukCW2J5uk1WNTt6eU2LBsAabAedrVl+52aAo0X0EfW5VW92CC7UtJ1c4W5ZM1o0lGYofrF3jVPkG7TIdu9sOVdKPPIHDQxqGl05ZjBFF0NG/L4KbhPGi1+3LveZ90PslzaJ7daCw46LhDL8vTp0idsd3fvceQNdRI0McEcRc8bo3u6WaHpkBjs6FDi75vNHplgTwLurEsvnXKpuP/69sdGgeN19DM2qyc1XKA5p4MTtGaLMwApSSs6WZX0tLqTK5DlxQGGq+hDehSu0Hf6PqswUZcoayndNQWtWMU+Q5dThhorIZeNBfKU0Vw8bOg3VPWLVjvLFX5Dl2jh/Jhow9cMdB4vdJmbipS8pfBI590dBR04xXhpsATDoS/ObTwCi+80X4XB0059ACmcv782V8GN50CLbyCyIB24f/CoTHQuEOb87V0eZcaMBKFmbM3REGP3gemI26F+wuHxkBjDi0zMS8HCf5PUrYaYkjl7A2joGs4HXDdWAQOWMMNrv8x1lcMdMwn6/X3zinL3MyeNL46VLrnH9SYOHw2JbZZAejjPQS39uTWMwu30+X2XWm5oNsgl6NN8DNbnnoY0TFzGKI8jJR3R/zw4KHvdVwV+bo97gvaiXzdzHxBW0oVlmf0grZU5jQkrhf0Lv+1sbJ6Qe9Rry1UX9B71Gv1UNDPeeP4Wdk62t44Pvd+9F0Ksv0Hwfpj7Ikf8ZYAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" />, the necessary type of forward map becomes <img width="122" alt="A \to B \times [B&39;, A&39;]" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPQAAAAkCAQAAAAUGN9aAAAD+klEQVR4nO2b65GrMAyFaYEWaIEW3EJaoAVacAu0QAu0sC3QQlrY6weZJUSSJVtOwlwOv3Y2iBN/xpIFaZpL79XQdKeNfomtoflt7ieN/p/IuEGMhymIMrnzVzVPePRst0NjKxg7k0wYNH+0BVHuLsqo4gci8he93bwKQXfuhEXFXolm5wE+bNFdxpMftFJfJiytJRPlIYgIFF0IenEn/JR6K1bvTI9hOZq2+RqPwXnzX7uvenUcNN+XdX/rrIwQESi6CPRtW+2/QTH3vCJdQnbSuFeoK9P/Tfta3V8aVTFMBIouAN26mTN9DegRqSv74FAn+8GiQXN8+eV2VnACE4GjC0BbZ9Mi8/X9mtHB+q1cR9CgOb7Gwor9IZgIHJ19xS5kgrF4W6ElrGptg0ON+wUTDZrja1bZWGFE4OhsanP4YMxAt3KXOwNDxllYJoytglRM6iu3yfWKAs3x1WZ+56NgIlh0JmizzcUYVnMnvbgsI5dFOz8rY19wR6/ps16qo0SB5vjqVXpWGBEsOhP0z1bFteqgx6z95IIsz1MY6NQ92SOoI+aSO7rMl0RSIizQdhco7hL11LoBkE8cqLJut0KIM20g1DzMNOhSX1zJiTBAd09L4V29prUupmxPabYB/WtJ3NxXXUObgqsjai5mCrSGL45yiDBAz08fWSpsXn7cIZnvMRPap2NyrkZRlD1qPmYKtI6vtHKIJEGbQ85ZKrRM2oCaf1fDmdCDu4vq2QdqCWYKtJav1PVziCRBHwHYKr2xONTcfhbW+xrE7ZyIWoKZAq3ni1IekQRonz+fn8OsISx993Uhb+Qc3GIIGzZ5s4SKhp9R3xemPCIJ0D7pm8MRe6upxH48K33MIdNwihZ8rxoHVNJ1iisJvq+GhIHW9IUpnwj5iRn4p2GFlWpCFj1I2F7VS9bnfuRmbF8NCwOt5wtXPhHiE8ekvw+r+5aJFeVI/OnUTeRtX4JJUGOgtXxRV84nQoDG6mBt0N4ovyalMuESFk9e9X6stPmoYdBaviiVEEFBW/RU7d7YIipT8EwYn+Pwpgy0oeKihkGX+0otvmVEENA9UbDr9sYMo2LcC8uEthCzFw81DLrUl3/ZiHoYU0oEAN2GBw3YMmTC//Re1plEkwbKR50bxjV44paI+L6ZgxoCXe4rbi/hB8AaRF5AL7td7XGGzoddr8YLO9w2ye1w7f3hu8mSZ+QTUfr1QtBavqZwR0OLsw6Rj78uUvZ29CdEv2FSFrneO/MfB30+1QSt1xE/6gItVj3QtuIP4y7QYtUDXfOVxgu0WLVA1/050QVarDqgjWoT6lUXaLFqga6rC7RYOr+PfpfO5far9PjF8Tk6AC9u/wFoyvtlQYlrGQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" />. This is precisely the type of any linear lens. The type of backward map becomes <img width="130" alt="[B&39;, A&39;] \times B&39; \to A&39;" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQUAAAAkCAQAAAAqGOc9AAAEa0lEQVR4nO2cgZGjMAxFaYEWaIEWaCEtpAVacAu0QAu0kBZoIS3kbBkSMJKRbdkbbvKYudlLiCx+PlgW7FZVDu5VkyVuiehSXCPLzHneq1f1vGh0Ka6RJZlnp1+2W5cUftAR5qQInOhS2eYhrwZyEHl2IKvZ6qTwTx2nT4pguVfKE71ecv1OK0hpIAmmJ5GnkRVnrCZiU4cvooNLTpqZDI2OM6E57qOXswJfBSkNJMH0JPOkrdDq93q4GA/LuWi3e/WAAdrNvkq/gp3NoUw6zuPw6jF6OSvwVZDSQBJMTzJP2grru6/dl/4ZYt44a9b/T69Jb0sd4HKMXnaC4Kkgo4EkuJ5knn4r9ERN3MIQ63xjLkNjTK47au3fAUkdi17WChwVZDSQBNfTk6ffCiP5wddmFupFvhql4yjk/MOil7UCRwUZDSTB9fTk6bcCVRPXMMQqzyiwhGpgTuuRhSIWvazsHBUkNJCE0tOTp88K1BxpmxQv/a+hfv+UwggJ2xFvm9fx6Bwr+Pao0aOi4pyrIKPBh/RouJ7ePH1WUGT3bN5Upq1Ah61bzi2b+ra+xaNzrPDUMyWOmUX5OXNUkNBgy0TmzoPS05unzwoTMUcOIA7/vDrnsdS09cEKOBwrtIQZrBH42ZdT4UOf2KEI1RPwWWG7SliplyJKspWiNsnaFfwZvFoBM0OoEcqpsI//TOhRhOsJ0FboFhE+bZWbDjpDq0WSZtcEeVZYv9GFWza6Zgg3QikVXJTOM65LEaMnQFvBzpFqtw06bC98Low7USdRK+zNEG6EcioceegtZowYPQHaCvgcaaR9ClbLnTPGhPYbXUIWk6sZYoxQSgWMGswQemWI03P5KLUjNkca7uTiKgb3YJW4FVYzxBihlAo41rxh9zrj9AQoK9Cr6WrXXkrDzIj7+30zRD87F0JbTL6jif1cqAoNzNsxG9/CsXoClBXo1bQVQaK3Zgqcztls1/zsiw6zgj276D4DjawK7rGebyPM9NxjjddzSQ+3ArWaNmzvP6QwIil24lZYawSqz+CjhAo0AzE5UcTr+d4Vg5oj11uf6Xfm3QLnk895dL4VtsViuBnyq0Cjgpe98Xq+d6UC4IlMcNFMvzNPVceSVnBXDWFmKKGCb+ywFUqKnu8hj9BzpL3XxUnS/2UpMj1Of4xnBWz5GGIGCRVimQIL8zQ9AdwK1Byp2BKYx72Oj6attJ4FDqc/xrEC1UfgmyFdhVg6btW/kKrne1DsNfei0uhDn6Fm5l2a7TLohrxTw80W6sLbwXvzSZ+NYwW6j8Azg4QKsQwBBamEnsuuWyusT8Nhm+m7Y18tzgBXheNFa9pEdM+40RmRrp45Vhg8RVfrtYKcCrHwG0syegL+p5jS6LJV2N/28Jg0qb+VEjloTivkmk//dyv8CTmtoLIttn5WyEBOK+R7GPxnhQzks8Lx1+nk+FkhA7ms0CU+qOnnZ4UM5LNCTn5WyMB3/8UCl2tlezHWv1jwJyvZYK6V7QX4B9OCJsBbKlzQAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-5px;" /> for which we have a canonical term - the map <img width="173" alt="eval : [B&39;, A&39;] \times B&39; \to A&39;" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />.</p>
<p>Unlike with lenses, the type of the residual <img width="19" alt="M" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAXCAQAAAAi0J4TAAABIUlEQVR4nJ2UYQHGEBCGr4IKKqigggqroIIKKqiwCiqswirsu2MzbHzj9Wvu3R2PA+ApC2saPTFwyWfbNgESFtjgwCE76Qzs6PCg0CW6hTFsQzrVdEhM13dk0ri+Fc2mEWdYToV0n+SAd9MZXD+trk83yYdfWnYRyvhOucpOJ6XRvr3GHW6W/T2qJCJHsN/Z6JBkkBytkX7gVYyfGxwkR3rbjsVtRs8QORK18lLE1Nlnw+RIdavQtYpaRsmR6Ga4LGKKyCC5GrfMVrqNk4vNsKeve57PkCs7z2SvxhS5/Px4sbUpcqQr3dVtUVPkSLFVdPGqTZK705UlBsj5qqoJZ8uKuY/kOB7DUVGiR0pXrj24uootcQ2Xzd/rEIXneNxn1A/pyZxTNnhXzwAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> is hidden from the environment. The environment has no way of knowing what kind of internal computation the optic is performing. All the environment can interact with are the ports <img width="49" alt="(A, A&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAkCAQAAAA3b0zKAAACVElEQVR4nNVYAbHDIAzFAhZqoRawUAtYqAUsYAELWKiFWpiFfmD9u5YlEAi9f//1dre17CUPQlIixH+AFtNfu8CHFod49f1VCTvWFwZskLGf36Vw4UOEFht5sBam3bMmtleQsX5+zcLTfJuDdqqIKZjwxLF9bCqF1NWfOMlVyCBiIRv2wQiBlMFmwr18hVw9AkzD7C7BRLzGAGbbw508T8VVUyWq6oALZJg5O0wGzBb9ccBoW46ByuMbTNh4Jhmeyf9pZVuRaZ3DfY1RTbecUMaUBK/JMHX92tncJ9Xm2PDgX4E4xOCSOZUM01NCG5sszLnBffWo9hzqjNi3YW7lwNjmQvVWWORE7dTavZ0zIYfI6GODN3/SR6Mwl3FHg/ixbBscO1hWyDHdstmLWcf72Tyc6g1RhruN8kwZ/WyIv45UAVQWkZ5VADlsiAxkkTJsWZozLBkcNoYME6LX3649Ge47nfHYDFxV6jLidlTZZbvrOJfNwIU3yiifMxxgQHXL4LIhQVXLVPl2vBpuL4B8tk4Z+Xb8RZ8MPpuDd9FSfL81KDlUeWth0cYGA9nLU2Ee5sL2/668W+Vo28aGj0TG7eADGdbohZZGlZ7dmxBH4fW9nQ1GYdItkKv86dQBvFG6y7PjEpI2rQZkpIcNhsbfOZYhR6A31ND+1Tds6Wy0D+sWKvysPACyvFq6WgKpMI+2j3XWgvsCHNPtAE9mw7DXvIy5gj+PZkC3BMdKaUO19A1hPNuPn8JakDpjlhlYT65E7C6Ss6l9NM9w0OjZiIbmeEh43/4AoWpTuw6+tXYAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" />, <img width="51" alt="(B, B&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAkCAQAAAA+hOywAAACeUlEQVR4nNVZC5GDMBCNhVjAAhZiAQtYwEIsxAIWsIAFLGCB26RcS8u+fJbQm3uZzpQSXvaX3SVV6j+hV81fi1APvdrUKnvUKFdXlgpwpM6yf9dqpE8mejXnT/4aVlJneF61asqTsSUb8BNHouCHJX9KkM9oQqgd5fJGT0KTMh241xLpQLQbOd4chifeSIS2WJ18RkvX9uPp8fTLCZZIYjBh8bPgU4hsSYjmMS509ZnXGvotGhXJCcGWXH5pg1ADcyeFHEYv18jMcfGAS9xW3sE8sQqLxz0rZxyAmb3KPSJuMuy7gjk6LM6LdZ1xfKboT8zYhAMTn+9Acf4ochFLXWLUEWaLZZ6gDY4P85XZb9WMxClibCPdgEERpUO6jGOCW9ILVZ6oazCCEDdMZj8/eraF3jezrI+4zjjzMYWyxwtmX/xV7jqy4hJKoAw1GL1/GdikOo84t2/DEd0g7vBqMAK5R5BhXuDj3G/UVZDTajECdYDTDkB1v4fJNoUajEJ1cIVQwhJah9HyVSmlDq4Qj8VTNesuRs/CvAN4dWIbEFWI38XL+7U6jCDYUpkNd8xduJd897iJUaROLM6nEDSlpyy1GEe+a+ui/TSO8wE0n6lCWM7IA+z5JupeFOcWLD0nW9JSRoQV7bEFbj7DxHJDSy4h/3B+2MJApw4SRh4RJzgmt3W7YNzwvRUS2AXvcAtJGXn0uNx2UXuWwwiyXSlcrDotVU8/jbCTy4eOpq/gunrnn/b2I/L+4yjxBD7eZZAchJRhSUlrBAWRh/SgNx9DzulE6hw0D/f/B9GQb7JeIVyFgLvbM5o8k52F3e056SoKJZS8W34Pmt/fPxDco/OUew8QAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-5px;" />. I think of it like a black-box system: we can still interact with the system from the outside through an interface, but there are wires inside the system that we can’t access.</p>
<p>Now, you might say - why does the choice of the residual matter? If residual is the internal state I don’t have access to, how does it impact me? No matter what residual and optic I choose, if I’m in a cartesian monoidal category, there’s going to be a lens that it’s equivalent to, and I can work with that lens. And you’d be right! I even <a href="https://twitter.com/bgavran3/status/1484197859205566464">animated this process</a>:</p>
<center>
<img src="../images/optic_to_lens.gif" alt="Lens as an optic" width="700" />
</center>
<p>However, this is only correct denotationally. Operationally, there’s a world of difference. This can most readily be seen by studying how lenses and optics compose.</p>
<h2 id="lenses-trade-simplicity-of-presentation-for-complexity-of-composition">Lenses trade simplicity of presentation for complexity of composition</h2>
<p>Lenses have a different composition rule than optics. Even though these categories are equivalent, it took me a long time to realise the importance of this.</p>
<p>Let’s see how two lenses compose. Suppose we have two lenses <img width="217" alt="(get_1, put_1) : (A, A&39;) \to (B, B&39;)" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /> and <img width="217" alt="(get_2, put_2) : (B, B&39;) \to (C, C&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbMAAAAkCAQAAACp8BxDAAAI9klEQVR4nO1djZGrOAymBbdAC7RAC7RAC7RAC7RAC2khLaSFtJAzNgT/SLZk5F3ezX47b2az5GTpw7IlWXBN84c/wBib9rdV+Efwx9QfCjE2n+b920r8E7jAVN8ssrr801DNqv/Vwx3ZXvTkee2/17afi3vxVczU2DxvRevvo2se1Ri5J9tvPXmm76ea9nNB4UtpVxybuRm8b/aFI6alFTLVad+8C6X3wXZzawBne9U3DP6ZCycMXWJvAiFXr1r2c5GfnZumH/1v0VYt+tvL/v1R289HTlohU0qLGgrU+f9j1URLI8V2p2/hpG/iR9/a3vmxN/6hr3NBlzjrz6G1NeznIjc7B339rfV0SxKT2f06b8+hgSKtkKlZ010Do5Z7v3oMR6tWE1oadmDIsd0bp4gd6mHygZKYgybxpT+FvNSwn4sUX1te9NH/4vu53eU3aDUOqrQipupR+brBTYrB02oRDpzybE9IFaszzsJdnakSWzPBYkjbz0WKL2V2ZGwXeTKrgVRphUzVIrI1N/Fu4Gq1TcVRcPw82ytyGxujeUncQZE4IdNZ2n4ucL6U2V/wUG1Crb4mrYiptnCFzGMsnBR1wdfqKWgFhe038h1lnKIkpadIXL8F6hCS9nOB86X23BJHz5jZHGlFTE1AnCmDpZoDXwFfq1mQoTzbWB5lF4iSnYUiUSUkS9rfMC3A+ZpNEJfSq2VkZnRphUw9UN+8ihczAf0Z8LXirIo55Nme0YziZYrMfFAkdoksRtL+jQHOMTPGl1060rW9lpyZcaQVMaVMoTeFQQ+/JlagzlxftXi1S7QF48Gobn+/7myTJvwcYTLlUzc+bo0WYdm3+458TStKqLaNkD9AzbFtq39wgr05SwmT1yWWhaowpuDEKQWcr0d0chWjJ2stJw1hqk96cafXOlvenLS5Q+SrnTnmtJN72s/ptwk/myLsViy2v19Noa2Ep1l5B61RbzR/f+V2WrvWpKCuo7XN2RBzTasnYcd/OaNhSLNtAVUTj0JzWQPBdYkU+6lQ5lSKBowvu/tINV9JSkOYwqomG0ZNyDn4bCbS6F33lVu8qythStGg9sRyNuO5GtlIWO2tLipIYkdgbSnT6kGoTX4IFcwU2xb97hTnMfKw9yGUHoxISKTYT8ecyYJOYHwtxiaphgpJaQhTM3rjtxj06X3+eAleXLGbvTXznZ1SVEw7BWswYr+7+bxfH4LrULGjTCucJVfLV9aB83JsHjV7P4sTMPMhIZFiPwdPYkcnNu6bsKTRISkN0XhFCwLPwMN7LyhqjXLumrS1xJyfO0HVj9DmBWj0MJpahG4VFztKtZKaZjjbB+A8alvy3oWht4REaTdTxtHyOxrMlz35lDpkkJWGMIWFA2OUaUxeiLgEqrX60xh8G1K9NyvpylxL7Qihi4z7X+x1Fey2LVBfg7XK6yQ1zfLBF9bnYW0tKYBISJR2M+to72z9EuaLUhekQ1Ya081e0dCrc7vUvgIcQchjL0v4345VX/aWzN6QzJs0UJDqFrjD69TMjKLT3Mh0QuTcDD/hsu7Cr/fJSMzZ3+6BF/8nPQuuuBn1pE9WGsIUbIjdOfyk0G3D7PfrNqWGVIByoNExRpmghZNvLBEZT2+arIGBtMyMptMcsVGGnJvhJ1zWKfj1PhmJeft79o/NtNN75BU3o4aBstIQpjZD4ollAwr37513u1I37/h2TNCqHaNzPvEOPcOGX+WFQyrSmJaZ0XSSDBpTSwt2wrWhLIOQkSgfNNJ6cWC+OoJj0J+1lpWGMAX/eY7WOb8Nc87cIDgHenjUQs/s4MAys+MmDI3fIUHNzGg6SU2znBy8A38grbm1JEq72UxMGVKVxrTmnAewJKWx3cyfkP46jxU43G/PzieLzisyxEFgCnFm5o8ROsiZmXXfv0Na0XTa/kuJrr70dE3lUbZPgauDlEQp+0+taJkuxtfSpNvORtaCJCkNYSru7NjQN2Ed0X9ArgPdTH3/5gZ4HbLhhgcC6bc2hA5gd6vTQUI3O78/feXmtYp1sqAdz+bXe5jtA3gobp9+jqdmbkS+RBiyx9MPcikH48vGNpj1HSgf56pEGgaEqRZZv1+OfyvgAblXdPta54F3N8CDG3rmiMBnck3ZXMR1jEcQdkyeHa1T7DiXg5xWsU4H3oQcJq3/oVdqB8fyqBlxifyIXIkYKPZT0TN2RpyvydgOzayhgV5/k+aKKw0HytQLvDB8p2lneqrD2xX2IvsP/p8+vYAVqq6Je8hsgReuZx1HiMcISxTbt46ByjQWf/bOx/M2pbWCdDpHz4cNnyYswkCA2W4auOLVal5tryS01qYYK5MIg2Y/FQvLZXG+7HFOOAsWRNMcVzxpGBJMLcjk6M1Daqt5qw9UgRtMc1FvmorDDv7OtPeMQM/8cTVeSW2EDCtpMzNlxhmN28fr4WA6MDe32pqdldF+9NailFawTufo+YSdVtKB2B4a/FzphSxUhyyYsVKJMGj2U5E/lHaBzc4Ng1kw1r1fczLv8MIWj9Ts4kvDkGBqSHq5BfbqEnsCAtFgHzyB0CZW0h4h4iz/Yud0pz6d94mmVUqnxjTaSoHCNgcYY5KQtL9B5guGHF/2Maxt4Z2yoWieK440CEmmXplTAf/M7BqUk8F1kdk9sqPUfUA0rZNKli34yLHNA8aYHKTt50KOr9pcZZgaMzkF79UlaUVWx13GaJ2awTUEOgOTQ06nkdmtkkOObR5gxiQhbT9/fCm+anOVZcqPWhevnKHEXgNn+7LPt97GOxTszFB3ohTyOuUfb+EinSPwUIuXE/L2cyHFV22uskz1zkHlGNRkFlbpN4U1Ssd9YK+v5h1ky+o0VXi5Xl9w0Ayj9IXfdNSwnwsZvmpzRWLqfLPr8bDkhtacT/3Ma7/hvrF5P+N5NtdfdcDHVhqpkRPKvOW5/v8jpZb9XFznqzZXZKbOM4LemPUwFZfxx+JyeK1xn/n96bf8bwFlrTG5JzIQau9kNe3n4ipfdbliMbX8wn5xZ9Tl4/5s30vDe2njg6nbHQKEu0BVr+Hdm+369nNxV74Qpv4DE1WkK2smbqMAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-5px;" />, shown below.</p>
<center>
<img src="../images/lens_precomposed.png" alt="Lens as an optic" width="700" />
</center>
<p>How do we form the composite lens <img width="124" alt="(A, A&39;) \to (C, C&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAAkCAQAAAAOJD/UAAAEk0lEQVR4nN2cgbGjIBCGbYEWaMEWaMEWbMEWaMEWbMEWbCEt2EIOMHOnuAu7sEzM/ZnMvHvx/eK3sCxorut+QWOnv92En9F/wGrs3t3+7Ub8iIpZmW6WbkuxZncRr8/Pqlvc+0l6EqkzKxapsdvIB4+dLWkZw213FzH9/VffrQ8KeZ6Ucl3CX9VwOc4Uni/ndmZFJtW7PkJFqt0JVuKxZW4mJKlzezzkZyhHyrf07d6zC9Hsjp0/R49u9PGVd4tZkUgpZzWQG7GGJkgJcrPud/GoX0SzSqnSpAb36e7aeS6hppAP+kvGoonmdmdFIGUZI3ZwJ/AvGcFuL/ebuO70maA0KcoJJ+Xnz7d73+vl0f2NT7s94zx0tzurLCkOShXSi1TAYTcdLvWu+etpHSelQurFRtbGrKPpbjCrDCkOSOtSiQ0h4vRXntuEYPWJbBQ4a7kwUiqMOTyRTkgXhsVxg1klSWnG7KLDBU8hRPXpFXNb/i7IYm2CxSJfGKljPKZaZhiMeW4YqwSpCZgvMS0hMCaEiF7k8dxUondaRlvz4uYLjJQNKTbVLs3IiBw3nFWC1IqOp1jmk0iOENXWzJhbn5jtOCMlr5W5fQKTotDQ5Bmc54azQkn5PkK97O3TZ5RIwMvcOHNhTlO01k8LI7Xe9gzuMuRWy7khpAwZtj0d92Z0E1m3jZyP8lJhlUsVTMoIsGjjhpDCKuJY+lKf7pV7beVuq9gOgJfNzJZnwaRmoXpG3g0hZYkBXy5HrZUBL3ejtpeqjXwHAT7zLrgJJeuGkFpI9WM8a6xVDatxkw64CiGnjHKIlA4tl1oqyrohpGgpMkZiqwJe4yYd8CPkO6H2h0jJrFfauFUE3M906+X1Ck0rWxHXudnM6ll/0iL/tWcyXXnAqZxk3RBS+YD7AstEr6O4KBlptW42W9TE7vnXEhJp7vzlAacmaVk3hJS/jHTRsgAoTHHAa93kU/pM3MyBSPWEENGfjpF1Q0jlAMKL/NLZpt5NOuA2m8rTZ07f5vBaGVOfpFthwLEKtizg9W5Lce0AyWQqgrNgUj4/pO418h4Gk3RDSA3JhGbRE0A7QrmRx3ODJbvxsjI2amFSOjkd9UhGw1TihgkhpRNjq0/Ave+ObZneyXPDj5S7QWpY2QIjNYXrhuqgAXygMM2J64YLJfUCP1Dh1gK2KWPCZ9eH+Y7FDVxB891gpbonXzOz88CkjmS/Rdemw2OHkFKc+G6YEqRmoPpcT+vTOI0s0fp1Ovls4ElK3GCNaKcpEWW75SyI1KEh7CUszs8v8yb3E77MwzmVuGFKkBqyK1u6TOMnS2fBe2W+tbxn3dOkenftS7jHPmUnijwnjhukJKmX4O29ls+cKeKKuZ2kSLXllCU1ZjdfqLKCS6a7RtYDC21aIEOqLScCqfScQpfc0yiQXg/4KoIMqbacCKQM40EAXFZ40/Oq6etPpXtJkGrLiUiK890TWG2/Ualdr5Wrz2tUS6r1N0/JpLgrvVgte62/Zy21kqhXHam2o5tFav7y9zpwPa1lT2vPPzFb9oykGUs98D+0+ClSfwB4mdymXnl7tQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" />? We just plug them together like shown below, right?</p>
<center>
<img src="../images/lens_composed.png" alt="Lens as an optic" width="700" />
</center>
<p>Wrong! What’s drawn above isn’t a lens. Can you spot why? It certainly looks like it should work – it’s simple and elegant. But it’s not a lens. The problem is that the residual <img width="47" alt="A \times B" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAYCAQAAAA2GOmqAAAB8UlEQVR4nM1XUZWEMAysBSxgAQu1gAUsYKEWsFALtbAWsIAFLm2Xt6WblAl3e3fTn30LJJMymRRjMEzGgXf+Q/RmN+EX83nKxi9nrD5cIPqPn2cpYiCSM+XczUK/XmsiFnEjB02wMQXaP8VVgE0534nGrVxNh4bpqOLlD+jH3d+Y/4fEZUbDOLrVCTvxSXjK6NkrO96JfdJ81uGNpvkGNmGPu8SFL+wNPpHOOhyB+1sldor3Jyk/Wni8MmFBfBEMcf6N+oRH7CFOyzycoHxDbQu74IPEk1Oj9AehgEwe3/0gCGRJZUFxXEE4ezACrgAtecO6S/dsZ8g0+9Mr2hRzty5AT94+6b8G1kgR1zTEQPjTrUF1bCgL0JM/lO9Oa6H8MzqubKW8oBxcRwF3yEvKjzE3zHOOpj3g1HM3F3CHPK/8iAkbn46Snk96a3qwv3rwBNm77z8HjKzYtLZai3ruZtnIc0CG7PmZ/tp+3DM0rZL+oXlpDrQgeX7E5XmnbtrjX3RwRZQNqy9APlGO1yzqpi2DYvRrt9EV0FJ+SLJqdKATKaJzl7NKTQGy8uerw9rQMEds7ko+jxcgKd+1yXdU3Sa+NpuuXX+kyT6PFcD1WE+k15RdtI7w/J7lfNUX164+1JaGzw9N+mOVpVzxtMN+bXwBKWYrfZB8f/4AAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" /> isn’t equal to the top-left input <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />, which is what a lens requires. Another way to see this is to realise that this lens is of type <img width="124" alt="(A, A&39;) \to (C, C&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAAkCAQAAAAOJD/UAAAEk0lEQVR4nN2cgbGjIBCGbYEWaMEWaMEWbMEWaMEWbMEWbCEt2EIOMHOnuAu7sEzM/ZnMvHvx/eK3sCxorut+QWOnv92En9F/wGrs3t3+7Ub8iIpZmW6WbkuxZncRr8/Pqlvc+0l6EqkzKxapsdvIB4+dLWkZw213FzH9/VffrQ8KeZ6Ucl3CX9VwOc4Uni/ndmZFJtW7PkJFqt0JVuKxZW4mJKlzezzkZyhHyrf07d6zC9Hsjp0/R49u9PGVd4tZkUgpZzWQG7GGJkgJcrPud/GoX0SzSqnSpAb36e7aeS6hppAP+kvGoonmdmdFIGUZI3ZwJ/AvGcFuL/ebuO70maA0KcoJJ+Xnz7d73+vl0f2NT7s94zx0tzurLCkOShXSi1TAYTcdLvWu+etpHSelQurFRtbGrKPpbjCrDCkOSOtSiQ0h4vRXntuEYPWJbBQ4a7kwUiqMOTyRTkgXhsVxg1klSWnG7KLDBU8hRPXpFXNb/i7IYm2CxSJfGKljPKZaZhiMeW4YqwSpCZgvMS0hMCaEiF7k8dxUondaRlvz4uYLjJQNKTbVLs3IiBw3nFWC1IqOp1jmk0iOENXWzJhbn5jtOCMlr5W5fQKTotDQ5Bmc54azQkn5PkK97O3TZ5RIwMvcOHNhTlO01k8LI7Xe9gzuMuRWy7khpAwZtj0d92Z0E1m3jZyP8lJhlUsVTMoIsGjjhpDCKuJY+lKf7pV7beVuq9gOgJfNzJZnwaRmoXpG3g0hZYkBXy5HrZUBL3ejtpeqjXwHAT7zLrgJJeuGkFpI9WM8a6xVDatxkw64CiGnjHKIlA4tl1oqyrohpGgpMkZiqwJe4yYd8CPkO6H2h0jJrFfauFUE3M906+X1Ck0rWxHXudnM6ll/0iL/tWcyXXnAqZxk3RBS+YD7AstEr6O4KBlptW42W9TE7vnXEhJp7vzlAacmaVk3hJS/jHTRsgAoTHHAa93kU/pM3MyBSPWEENGfjpF1Q0jlAMKL/NLZpt5NOuA2m8rTZ07f5vBaGVOfpFthwLEKtizg9W5Lce0AyWQqgrNgUj4/pO418h4Gk3RDSA3JhGbRE0A7QrmRx3ODJbvxsjI2amFSOjkd9UhGw1TihgkhpRNjq0/Ave+ObZneyXPDj5S7QWpY2QIjNYXrhuqgAXygMM2J64YLJfUCP1Dh1gK2KWPCZ9eH+Y7FDVxB891gpbonXzOz88CkjmS/Rdemw2OHkFKc+G6YEqRmoPpcT+vTOI0s0fp1Ovls4ElK3GCNaKcpEWW75SyI1KEh7CUszs8v8yb3E77MwzmVuGFKkBqyK1u6TOMnS2fBe2W+tbxn3dOkenftS7jHPmUnijwnjhukJKmX4O29ls+cKeKKuZ2kSLXllCU1ZjdfqLKCS6a7RtYDC21aIEOqLScCqfScQpfc0yiQXg/4KoIMqbacCKQM40EAXFZ40/Oq6etPpXtJkGrLiUiK890TWG2/Ualdr5Wrz2tUS6r1N0/JpLgrvVgte62/Zy21kqhXHam2o5tFav7y9zpwPa1lT2vPPzFb9oykGUs98D+0+ClSfwB4mdymXnl7tQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> - what are its <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> and <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> maps?</p>
<p>Let’s define these <img width="88" alt="get : A \to C" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAAAfCAQAAAACNuTQAAADlklEQVR4nO1ai5GDIBC1BVqgBVqgBVuwBVugBVqgBVqwBVuwhdzuQhJBBYww3s3lMTeTBIVl2c9jua77ixg6dbcIAVgnSaYePr0hb5PnMnj36OzdQrwwdBPIM3UaVKy7Gf6Y/93cLNkFWFrSb0APKl1AtXz12wiysU6AjGOraQdQAc8/9jF6EB7b3WBgpQ/4264VNbBAn2g19QyDt4tCjFzyfhUzCg9HGQH7llZT88bLV+B+iuZoZiMFYGSlxyl3JPtuhKFpKuIUg0dS8X352llwapWyZSTWLQcHy0DFSlJxX23UBxjGGSgKA6l8w1tH4laDS+98TsX1mLEFwzgjRX52no/EPQxhEnsrqN+AvToOiNQbW+9dGFtK0fg8S/TvY/KWwyqreASFlEtjyYbTz8t0JBawFEdFRtjdfuP4Aiax3k0dB8RdU9Rw+tl/TjnfTM+dg1opFVV8xvLSYMRtyyCvzz3AdO8BFCljCPrDCXTQawqt6zyz5cFhY6mcVFUmtr6hr+YBAVNNwXcc8D35li+owMaXwkw/kq2fgQnGtdV5y+T9MYflKimdoh2SgUNzmmC92wx6399FM04cxzZbfSZGSs5ZsmP9FzZ32ETIMQgLOhqew7cheroNJ44XrxpsJip5yRDOy1xm3rxuVsmO+R1Ur9RmoqBQGonPAiOlDdocBbAtuHfp821JcKEyFR/KxXcC+bqY8ST8jpLtDVMaic8BE52Mmi4438Xv5JshE0qNWqbiQ08e6PV1yBdBMUNlShutInHsKwjZ4Ahdci4VBSqWx5RO7UZiE/SnIm2bSLxP4muf71wwKjmVpss/iEQpd6tCE+xrToVhJK5VZzrK8nVVLIvrFGjrqeuA5JWX3PCFsKwsdlXMXr+t68Qie/4pc3J1KHDd850tNgmeDFEiN8682h+2U1aeN7EYadtzE9aR2GRo/JSxBQeRiO01z3cyw05CjCT73vp6kChzfOlf+yOo+hSXleMqaHiFZF8K0dkD5mOTWmMwKs4cVe0k9c0flJL2oE9uliIlh5Jxuh4tgIRX0Wm0v5mKM2xPB19JBaK4EieomIL3rvkTvMpEUrviqbHrmYjHXq9O5w4cW/QUFrHSKEkbJkP2DifetyHHIffsx5U0/x4+Kaw+C7ro7eNn18EhJ/6iAZpe8P1P6CB1scZX9f8QQ1Sf0MVU/ItCyBWR5/S/LPXud7/wkFSetJQhh0p88wvCD+zZ1bAJ/2AgAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> and <img width="129" alt="put : A \times C&39; \to A&39;" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAAAiCAQAAADxX3RnAAAEsUlEQVR4nO1agbWrIAx1BVZgBVZgBVdwBVZgBVdwBVdwBVfoCv0QqCKCBC3Y/tfL6TlWUUK4hCTQND+UQNfQu0VA4Duk/Fp0zbN53C1EEt8h5RejVwqe7xYiie+QMomukTe1TBoOrbfqagVfrh5KwaK+WAcI6erzpDwBqjox3tBu10yq5UnNJal+s/oRe3+wNTgYWxL/RHWEdPV5Up7CCINRF60a9ocaftexEkoK0jBnZkl1fZedCiOkqypSdqrpkl5oqzqhSz0QNduf6rfvle6rNrDM/p/V9Sd54GFdVZFSN8LT1U6CgFGuSQMCS0Fs9kyOz02BLJ+DsK6qSEkLD5FUBlhCGyxd+Q0gMNvjJlQ4ShVFJ0A+wrqqImVX1H2jsM4J6FoNhRtLcNQf7ngGw0cFYTFdVZGyLxqKDNAhDl1rEfWPqEIQ9kSCyT9aR+ky14i66hAyYXH1a2FdvVvKCOaC5ppb82u6hvF1H4qWYeh5nsqjYdqhy1fYm/NyY1R2DGK6OpRSqEaFjSSJuhrUi+5Mour/sJt/bBlwnVTRpbUmSJcjMuj6+XHrZOclQdOARYhgSJCi64iIr3kxd0tciu3zdaUqdfCiXkvaxZg8FuPBlCopxMcuEaiTkNQ00WWEe+b6yPTMJ5KZ0umM7hpuroSIgCMBz2ilBAjkKc7hhK6IdYEkVF9fkDa61M9JY3jlOktdIPAYkMzLj/zpJgnyyHBEfSLgSNDYUAvjgZSCTPglMZzSlbBdHbzq3LJI2uet9zzkDD6QHrwAm5GDYfPdMSsecYmAJYHpS80kVQgT5ClzcUpXg21o9rjP7esvZvnDvncGWTHF+SvwmNnSiwh4Epj8xx07Fy4IECHPIpzUlZmV+7RPZ+9IK9Bzk4KkgR1rUUxxvipkNuEMEbAkyIlGysIQNycEv6SrfdpHbjYl/OdXPINc6DVy3JTZIyUGPCv3iKNB7spN7VKTX7D0vairftfpaTPQg5d2uOIZ5EE7PNwr/S43loKZVfE8gg8cDfJtn9+TdDE+G66vl3XlbwiZRUBs/hGvfh3PYAh0gWfS4OUTxPIIezAEDXiFcDIvK3tRVzHP4DXwbbPdta7nGYTTM3krt+sY4olwvKWkUXZDXUOiFwONy7raewbbdd4/qLB6Bmy5v33jXbm1mJ+Mp4EfHWCJ0DfHh1vKH4TjTV7+/7KufM/AzPZ1EfBpsNYXi7lxlxWWVDTOoMuo+NgMXyhExBGBHhpTVuFkwZjVxnVdwRC6FUdPdWJDA+o4g6sNcZeVIZH0mBIzzYAd+Bq43FgsT4AjggApQz1pbWa1JHhWLHRdV0uq5NVov1MdhTDEgMDG09PuPKzkGBdB+mQK9rlzOX0Q2FqJBXgcns3JoYjnCXBEMEGzr4u+Sj6hR3ta79GV9Qz08HZwuq4PsLAFtXHYaaQwy0aou36cwVZIF9iJ3CN1KHJ0IuZQdsItR350f+BgpRcujRYs5QCLH4e9V2zwdhXYpNG7dOUEJbqrcUO03T7mO3WQwL3/AQzIr6eHqHjg9MxW/CWUPCryw5cglAP44c8htDvww5/Dfjfhhz8Gabchp8ShsR/+a0in3Hnc6ofb8A8ZorSKpYxJOgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" /> maps (forgetting the above image for a moment). The <img width="88" alt="get : A \to C" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAAAfCAQAAAACNuTQAAADlklEQVR4nO1ai5GDIBC1BVqgBVqgBVuwBVugBVqgBVqwBVuwhdzuQhJBBYww3s3lMTeTBIVl2c9jua77ixg6dbcIAVgnSaYePr0hb5PnMnj36OzdQrwwdBPIM3UaVKy7Gf6Y/93cLNkFWFrSb0APKl1AtXz12wiysU6AjGOraQdQAc8/9jF6EB7b3WBgpQ/4264VNbBAn2g19QyDt4tCjFzyfhUzCg9HGQH7llZT88bLV+B+iuZoZiMFYGSlxyl3JPtuhKFpKuIUg0dS8X352llwapWyZSTWLQcHy0DFSlJxX23UBxjGGSgKA6l8w1tH4laDS+98TsX1mLEFwzgjRX52no/EPQxhEnsrqN+AvToOiNQbW+9dGFtK0fg8S/TvY/KWwyqreASFlEtjyYbTz8t0JBawFEdFRtjdfuP4Aiax3k0dB8RdU9Rw+tl/TjnfTM+dg1opFVV8xvLSYMRtyyCvzz3AdO8BFCljCPrDCXTQawqt6zyz5cFhY6mcVFUmtr6hr+YBAVNNwXcc8D35li+owMaXwkw/kq2fgQnGtdV5y+T9MYflKimdoh2SgUNzmmC92wx6399FM04cxzZbfSZGSs5ZsmP9FzZ32ETIMQgLOhqew7cheroNJ44XrxpsJip5yRDOy1xm3rxuVsmO+R1Ur9RmoqBQGonPAiOlDdocBbAtuHfp821JcKEyFR/KxXcC+bqY8ST8jpLtDVMaic8BE52Mmi4438Xv5JshE0qNWqbiQ08e6PV1yBdBMUNlShutInHsKwjZ4Ahdci4VBSqWx5RO7UZiE/SnIm2bSLxP4muf71wwKjmVpss/iEQpd6tCE+xrToVhJK5VZzrK8nVVLIvrFGjrqeuA5JWX3PCFsKwsdlXMXr+t68Qie/4pc3J1KHDd850tNgmeDFEiN8682h+2U1aeN7EYadtzE9aR2GRo/JSxBQeRiO01z3cyw05CjCT73vp6kChzfOlf+yOo+hSXleMqaHiFZF8K0dkD5mOTWmMwKs4cVe0k9c0flJL2oE9uliIlh5Jxuh4tgIRX0Wm0v5mKM2xPB19JBaK4EieomIL3rvkTvMpEUrviqbHrmYjHXq9O5w4cW/QUFrHSKEkbJkP2DifetyHHIffsx5U0/x4+Kaw+C7ro7eNn18EhJ/6iAZpe8P1P6CB1scZX9f8QQ1Sf0MVU/ItCyBWR5/S/LPXud7/wkFSetJQhh0p88wvCD+zZ1bAJ/2AgAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> is easy to define - it’s just the composite <img width="131" alt="get_1 ; get_2 : A \to C" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAAAfCAQAAACvkqtQAAAEtklEQVR4nO1bi5GrIBS1BVqgBVqgBVuwBVugBVqwBVuwBVuwhbzLxayA/DQQnLd7nJ3ZxASOcLgfLum6P9TE0InWFCyQjiOnHv47wJvx+UWg3aubW5P4wdAtwGfpJIhBdiv8kf39qTGzX4EZB/8J6GHyNxABNd4bgRvpGHAca3U7wBDQ9Me+hnZ8ehhmdbUGgZX/gr/zKKix2eAeq9X1Co0/yQe14kPQILcXA0HnEIpc1L2tVtf0AY9voh0fAcZXYO/V1l0GCK78cBA7os2ohOFRIVM7PhRjhRHF0M5OaqsQe35eM2KQNRu/gVZ8JpQARzH0Bdt9gbzzIdAJxCImWjtiaGkWXbThw3fTq8VQcqdhBnnns0j3TtMRQw9NTBENMrw/wZrTmaraylBXv5tFdeVMgfoeSX/sa3zuM7Sx7KuRFBfDCJOXy2dGuxD/NI9HDAweRachI6iwP5lZBp3Mu+nTmarSl8BLdb/u/+eYsxU/H8c3+dxj6EIY06/EkL+W0yC4W5AD/nnfA3R2NCBwMAbrvt2BtO5OF9dBOg//Lp87DF1Qa5tpKx7AikQU8Ib8NF5h0NFivVYNHl2fY3NhrdPtYuw84rp9Dp/rDM+YrB7nCtnMstu/OLZPk+rF0RK3jCTFDkxVErh7vGbFc/qn8UnD9cFzBQ4E5RC3Dnp/5QMZDif/OFpGWDrNU3g1OJ8OdU9vbG3U4sPhm7MRbpaEO0miiiCVHLZoyvxxHrOevj4Z4RrZtSZ+grPJMcF+D82wRrbdGJI6fOReruE4oGXTTuXPZ+taHcfmA91N+vUrzD9PDEFe1BNwmEWM9waKTtR8zfg99IDJ2XxZDHX4mOcLVGSen6jlMF52Nsclu5w9SPdb6WvChRBuN08MQTcy4NfNoWGdWcQQXbykEffQ18VQh88EE8aMVyX3J13LpMCzxHAV6X1VliEGHk48hddDT9b9WEASixjuiKEOn9kaRvGZX7Xg374pvwepnVHavcULVAqR0v55cO11E59s10O7A3NPDOX5MCtslAUnKhTflxaDklfOBpp6ttjBmuiBPH6Kze1jD8w7+OTnPfPcADsZoJAY4l6vHh8NNzW9xtCECA5t6T3IOTMvo1EHxVKtrIaSiOfYw3ry0SqZe0+P6aGnU1jmF0O8wFqTj4LIiBiWxPrSYBG7V3YPkmfI940RufuevAdGicC5/1ESw+qYe+zBrX3bB8qO6ZaeTVC/GHSCFHq4mnz0BKZX7OsUxrogWDwK1UY53luL5SzykrAEysFmRjG5zoDKvZUZkvu5OXfd9Lg5y7Fk5FYRGZZQ1Elb39D7xSBxtcdcRS0+6m6O502FmLOR9buGd+pe1lUib4lvNZ3Ro7tUG2wcx2mKJqSRbv1q13muT+m6cOxHOIAUmeRK8qEwRE86p5mPOwV1XeBXtnW8dzTYzuk/R0wMOQRL8iFGZMEe9iOXR6L0QcmwGPJ6KcdHOZzDwgxFD6X9J5BW8EWKHzBfAmKggSCuFh9d8TtqB886pPcI6K3fY43IzI2NHKgS0oLtrzj8Nnw/7ajJxw3qnnSs/yHgRppF8Vc23zGefcBjt+LzBwTHFTxjzDlUqPOHen0Wn1+Of7Mz+ohJZgIWAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" />. But here comes trouble. The <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> map is more complex. It’s defined as the composite</p>
<center>
<img width="519" alt="A \times C&39; \xrightarrow{\Delta_A \times C&39;} A \times A \times C&39; \xrightarrow{A \times get_1 \times C&39;} A \times B \times C&39; \xrightarrow{A \times put_2} A \times B&39; \xrightarrow{put_1} A&39;" height="19" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-1px;" />
</center>
<p>What happens here is that input <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> to <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> is first copied. Then we use one of the copies to obtain a <img width="15" alt="B" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAQAAAC2NjfhAAAA5ElEQVR4nIVTURWEMAyrBSxgAQuzgAUszMIsYAELs3AWZgELXFa44/Fo2vSHtzbdkhaRNzapJIoko/6BCSVZDsSKrzsW+eCsIh8gKfldVnHaZPDJ/ebdfFVvmn3yhpLNzBz6dBc76T8o2W57gSkWmNYzi0cuRLHArAOeu6jkaas2DUZlOTpcJgZjShf5Xo8ZdzZdmRCn4vKIFVJydGuHrXhCw933uYPt0EIH+AefscQLwmd8kptHZjP+kd295n/NrLnCqZ7iqoJGTuaKc/xLMMUlpiZD1QhKU5fpcp5m2NG3erZIX9lZjeq4V/EkAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-0px;" />, which we use in <img width="31" alt="put_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAcCAQAAAB8bq/MAAACCUlEQVR4nMVWYRmEIAylAhWsQAUrWMEKVKACFahABStYwQreNkBg4J13n/c5fqjI9sbexhDiPzILL4Y/2b4gq9jF+BT4AOD7U+AY+h2C/5hYgNfPwSPz6lslDQHTQtK7hDcnDEufAWacmJieilASVuOYiPnwftkJA4wJscAQYMAR8Cg2mk0wFhxQYLp0ANNsPZzD4WkmvM/iksiYKgZULYzs1B7rF1dIetZphWnmKlsOZsw12CQ67sgx4yO5ExwJKya2ok2z7fuad5HzlYV2PMCWEzieZuqXmg/Bao+L+ZgJKyR95+MUNbZKQ5/U/AiOe9hmSu6OtMcFcr+8WXGVeQtzAzmxgLsn9WAb1YWZR+Mz0/jM/FxYlbBi60eAN4oQas2+JdP4zLyDbajiq3smnjGf4SZGxVXmfQVo+oXZMs955IqZeRXna41Em6oSrqW4Ox32Voaaw2cNHUkr6VPF8VXKVtXOIetxxATxTY7qCn4o0ixFraTPdRPMvGM+X5Fsp0AQMAFJakl77A3JKX/A26Y1oSi2xUMC82h0ppua7d7VJnDAEpyD/xIS0dPqtE8F/7HRtH0x/T1pQrmCsVG+uybWjXRkVS6bmSQD0HvaC366Inwh2DGTfcUzv63gu8FdsbmZU9Oe3feCL5QlaTRxPjkKbhJHVVWOQgwVEB6nly9Hd4opRq9c/igvevsFcCBrhxQAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />. The map <img width="31" alt="put_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAcCAQAAAB8bq/MAAACCUlEQVR4nMVWYRmEIAylAhWsQAUrWMEKVKACFahABStYwQreNkBg4J13n/c5fqjI9sbexhDiPzILL4Y/2b4gq9jF+BT4AOD7U+AY+h2C/5hYgNfPwSPz6lslDQHTQtK7hDcnDEufAWacmJieilASVuOYiPnwftkJA4wJscAQYMAR8Cg2mk0wFhxQYLp0ANNsPZzD4WkmvM/iksiYKgZULYzs1B7rF1dIetZphWnmKlsOZsw12CQ67sgx4yO5ExwJKya2ok2z7fuad5HzlYV2PMCWEzieZuqXmg/Bao+L+ZgJKyR95+MUNbZKQ5/U/AiOe9hmSu6OtMcFcr+8WXGVeQtzAzmxgLsn9WAb1YWZR+Mz0/jM/FxYlbBi60eAN4oQas2+JdP4zLyDbajiq3smnjGf4SZGxVXmfQVo+oXZMs955IqZeRXna41Em6oSrqW4Ox32Voaaw2cNHUkr6VPF8VXKVtXOIetxxATxTY7qCn4o0ixFraTPdRPMvGM+X5Fsp0AQMAFJakl77A3JKX/A26Y1oSi2xUMC82h0ppua7d7VJnDAEpyD/xIS0dPqtE8F/7HRtH0x/T1pQrmCsVG+uybWjXRkVS6bmSQD0HvaC366Inwh2DGTfcUzv63gu8FdsbmZU9Oe3feCL5QlaTRxPjkKbhJHVVWOQgwVEB6nly9Hd4opRq9c/igvevsFcCBrhxQAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> gives us a <img width="18" alt="B&39;" height="13" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAbCAQAAABR545VAAABJElEQVR4nK2VDRGEIBCFt4IVrEAFKljBClSgghWsQAUrWMEK3LLInY68Yx19zNz4w3wsbx8e0VON1D9m7KBI2zuoiVHrO6iNUQ6/nimA4cmeZlrZXodRhqc4nhS5fHsYIy38LPD7Is/3vlW4FZS5PA/iTalj5btm/xzojJElsjs9X80tUPILTYuyybKcrc45CXWmE9S8L6eIAXIqRzLyb4aObZSHGU5GL3JldCkPwKlJlqhVCxUrTnV7K/4E8iq7o37hHLieVQJ7U9kpfxoTb9rdqyip7lSyedP07KiaU0kjjAgQzhQd4qkSzlRG3fjQoUwVVNCjkFPEkYia71PRP6eCbF39/4Kdct+DrBRyyt8F2YobPQNW6Zzy2GRL6yOdvqGN+ACxYKOQNBTaGgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />, and then we use <img width="31" alt="put_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAcCAQAAACTrMTyAAAB20lEQVR4nMVWYbmFIAxdBSpYgQpWsIIVqGAFKlDBClawghV820CBceXi+57P8UOcGwd3NgbAMzLCDN1Da3+VFXbo34HuEHp/B5qCvmPYXxKL4OYtcGJc33MxGCoDiucKZw4mkTQdahwMwk8HIIXWNAZm3M8btzAhUwALDkB3x7A9bKw9QCzCa1w4hafkWs+t0ZhZ4+cjNIgKCTKho8URt7SHeiULxc88mSi5XLaWQ83U9sdeTPgbJ5bueTN+G95iEBZlcm13a9wFrlcR1P6EWi7AZHLp+zXuw1QeDuOp8RaK3+PBSR5b5mEqNd4Jggqo3JE4XyoWrYxr1Fkm5FJs4biIxWnpUXi0MD6iTnEdXIpsBz7IRrwr4dHOeAX8ivEINggS7jFeBS8Zl/xN4j0yroM+95DpVQGXjPv/SoMswaOHCXSlxOnksPoKvp4HymG6ibPZZOBdklxHxFLiXLbxKrhnPF5+bAHt4Q4YxY1nDz3g2FJc3hYNqALuGaclR76B2Y93sAHhLYM5/K4w/Wa2Pv5R43dqJ2Xvq4LHiqVWWLv85a2yF1WtCk0D+C8uALflArys2H8EL8/oJ2T5DF6e6n8rdL9ZuJ5WnM3ph4nVS+u15293FcenAnlMfgAgzPYbYypJAQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" />, and the other copy of <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> to obtain <img width="17" alt="A&39;" height="13" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAbCAQAAABc+f4SAAABBElEQVR4nKWVYRmEIAyGqUAFK1iBCla4ClZYBSpQgQpWoAIVvLHjThicMv345XCvsH3PVOqJXmp6lJ8hu4rPMRYxQfplaGIRMasEMmGCZzFDV9ISjMeUjcUAY+0JT7RgQlq1AkYEfdJ4Dttg0jWd5CyAZQTCzEV0xWczDpmoJithyjQna7WjZEOY5RfV+PQah5h8/w/m6Mssc++We6EZRiQoEhPG3oFMleFix8dDclVn/D2MYebyHR8PaGNGhzsYwFr4agXCiGZdKq5hyzY+vpTrvG6kGF7cEiMwIC/uVyIM/H1V4OP5pKmDPtY4VSIbTocM7YWrEe7zvN07w9EVe3v/p/IGTAR7dHkFbeoAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" />. If you think about it, you’ll see that this is the only way we could’ve defined it. Let’s draw the result:</p>
<center>
<img src="../images/lens_composed_single.png" alt="Composition of lenses" width="800" />
</center>
<p>This might look a bit strange. It’s different than our original guess, but this really is lens composition. You can convince yourself by tracing out what the grayed out <img width="25" alt="put" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAcCAQAAABmUk9CAAABr0lEQVR4nLVWYdWFIAxdBSpYgQpWsIIVqGAFKlDBClawwqvAtw0QGPLe8Xxy+fGQzV3cZeMBjMEKO0yDYhc4wcM8mmRCEj+ahFLmMWnDYZHGjKchZXTPaPBDDSieK5w52CoZJ3x2sIi39BVQoTeNhZUJ84Zsw4wCHDgAHR0TzPDh1RDOIpHGACURiX0W26Cx81qYr1BBRck2dLE4Mrnn8092xb+1uCS2Ext2uLa1ySKYuEcnwsxMS3TBvgj7ndiffs24qMkpkjLHsEcnbCu2/lYz4SPbslrjSrArfspNhPw/IpL5XTNtWZE2R9f+UJkE27gcVSAKsQr/B8okyIYXkmSqJyX8HygT0FMmBV6qBL6oTJ3nTaQ0K6Ov9foNqRtDKhN2m5MkabK/uVJdpl0XZV7gjKWYsCNJmXlT0UyF2DkHZdpdpWOxd19crVaQhMApoOLG6mPny+T7RWObJssIytDrK9/k9uYuX5DIcliHVoUHYmffvGuNHtQw205+saejSw28/3ehbu9zUyPqZq3A16voLdzVwADcdacBaLvZ69j4aFIjaS7Vt2nS6BzD/+IPvfLWKl51JxwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> map does and seeing that it’s the same thing as the equation defined above. We can immediately notice some peculiarities. There’s two <img width="29" alt="get_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAcCAQAAACaR2SIAAAB1ElEQVR4nL1Wbx2EIAylAhWsQAUqWIEKVqACFahgBStYwQreNuXcAP+cP8/nF3GyN/e2oVJPw6leNY97PcGoZmXfpWyAcn6XEpM7Q3pfRgDS7m1SVNTc29oqryKkag+G7BG+SdNaQ+ng1ZKiy/1P1EYN4A6LvoNktUW6DGjWw3NFbwxE20AQePXw9rje74dcwKkJqBI8pcsJ+8zsqCG3RrD662TpKyaIna8xXVurl7XpRR6mOz06wKaWrS2lK6Ehp3zaaLBua3OnR52gQHQimSH7zgZWLnu73qMNJH4HY6FIZGWk6Tv6tUywaGKWypqiWOeBMrQTzZwld9Eolb5d7UtD1EZ6TVEHTzRVdRWOnGoR5QyOErxYlThSdJfUVxWNwn40VfcVPSGVm7iix07T256tLpHaoja5okv6SlL9fcbPUSMGyAEpbtsGg6aenTJ7rik2TQqLKxpFbRyStt9Ycb4GoSjCZnNY/phsjkPWA4ek6Hag/gsQaVTlydjSOLd0FOSnEI5QHPOxoDwh5ZCK8sAs9V6J5YCr4SKpOenK33CRtCsU/QNpEEWhH/6RHGqkLpu7ITu67wMPhoG8j/THwWDZEYa9N1Uq8A+wFFNP/emqtfkgPni84CBtx4UnAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> maps. The input <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> is copied twice, not once. To get a better sense of what’s going on, let’s up the stakes. Here’s a composition of <em>three</em> lenses:</p>
<center>
<img src="../images/lens_composed_three.png" alt="Composition of three lenses" width="800" />
</center>
<p>Well, that’s starting to look crowded. There’s 6 <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> maps now. We’re also copying <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> three times in total. What’s going on? It looks like composing lenses duplicates one of the <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> maps (which in this case was itself a composite). This is really inefficient. If we were to use lenses composition in a software project, say for automatic differentiation is some neural network library where layers have millions of parameters - we’d get horrendous performance. In a neural network with <img width="17" alt="N" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAXCAQAAADE+VVXAAAA40lEQVR4nKWUcRWEIAyHqUAFK1iBClawAhWsYAUrWMEKVrgK3MYPPWRwB9y3f3zbY4zvPaeUZFN7iFXU7F3jmDOnA4ZiVs6HSWoDZTbKv9RCX7rchJloCm4iZ2GcGr8fB8vdRt420CxVHHTY+CZW1OZMLoOmJsxJTU5RXeseM9FzGJuVe9S0gBFMJOU2GQFSbqMRRsptNAJSudVGYpVPuQ1GYp5yq43sSSaW22WEieV2GQGX3E4j4JLbbQRZyO02AiD3DyMM5FYakT/+p5LbLYLRb8/8cyD3hxEbFrMrblZdnvINRVlukiemWmUAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" /> layers, the first one would get recomputed <img width="17" alt="N" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAXCAQAAADE+VVXAAAA40lEQVR4nKWUcRWEIAyHqUAFK1iBClawAhWsYAUrWMEKVrgK3MYPPWRwB9y3f3zbY4zvPaeUZFN7iFXU7F3jmDOnA4ZiVs6HSWoDZTbKv9RCX7rchJloCm4iZ2GcGr8fB8vdRt420CxVHHTY+CZW1OZMLoOmJsxJTU5RXeseM9FzGJuVe9S0gBFMJOU2GQFSbqMRRsptNAJSudVGYpVPuQ1GYp5yq43sSSaW22WEieV2GQGX3E4j4JLbbQRZyO02AiD3DyMM5FYakT/+p5LbLYLRb8/8cyD3hxEbFrMrblZdnvINRVlukiemWmUAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" /> times. The second one <img width="44" alt="N - 1" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAAAXCAQAAADKUCs4AAABVUlEQVR4nMWXURmDMAyEa6EWsIAFLGABC1ioBSzMAhawMAtYYAntgC4B7qFkl5d9bfn2E+5KcU7q5cZUg5jrtzmuTrn6L2qoOres1fzMVTTyovHZBfrlH2fx9G8BW9pShxlZ9pm1uLogli5PLQnUmgVFDhu07GRFd/60+DmOZMMJR57Wu2TkXsx1ythTGlFkT8isN13wFrODgS2+gpHbtKxXIziV5roQjMxOZnklghZO3gUjT1voZAQtnQwj+8OjlxG0dDKM3GaLfiNo6WQYOWSByyNo62QYOe9jHkFbJ4PInpblOkbQ1skgciuWHCOIOLlOR6q7mkshB/Hq2COIOrkBqxCy1sdvBK2dDCFLJ8fRGEFrJ0PI0slRMYK2ezILQNaczIoRtN2TWQCyPGruM9rZ+WndINfrV93Zgt7k8ylXlfaq6gxoL+2Lz188gfIalX08bQwfTcfFw+AStGwAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" /> times, and so on.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> What’s going on? Why is there so much duplication?</p>
<p>All of this happens because of the restriction on the type of the residual in a lens. It can’t be anything other than <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />, and this prevents the forward pass from sending the result of <img width="29" alt="get_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAcCAQAAACaR2SIAAAB1ElEQVR4nL1Wbx2EIAylAhWsQAUqWIEKVqACFahgBStYwQreNuXcAP+cP8/nF3GyN/e2oVJPw6leNY97PcGoZmXfpWyAcn6XEpM7Q3pfRgDS7m1SVNTc29oqryKkag+G7BG+SdNaQ+ng1ZKiy/1P1EYN4A6LvoNktUW6DGjWw3NFbwxE20AQePXw9rje74dcwKkJqBI8pcsJ+8zsqCG3RrD662TpKyaIna8xXVurl7XpRR6mOz06wKaWrS2lK6Ehp3zaaLBua3OnR52gQHQimSH7zgZWLnu73qMNJH4HY6FIZGWk6Tv6tUywaGKWypqiWOeBMrQTzZwld9Eolb5d7UtD1EZ6TVEHTzRVdRWOnGoR5QyOErxYlThSdJfUVxWNwn40VfcVPSGVm7iix07T256tLpHaoja5okv6SlL9fcbPUSMGyAEpbtsGg6aenTJ7rik2TQqLKxpFbRyStt9Ycb4GoSjCZnNY/phsjkPWA4ek6Hag/gsQaVTlydjSOLd0FOSnEI5QHPOxoDwh5ZCK8sAs9V6J5YCr4SKpOenK33CRtCsU/QNpEEWhH/6RHGqkLpu7ITu67wMPhoG8j/THwWDZEYa9N1Uq8A+wFFNP/emqtfkgPni84CBtx4UnAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> computation to the backward pass (which is needed as an input to <img width="31" alt="put_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAcCAQAAAB8bq/MAAACCUlEQVR4nMVWYRmEIAylAhWsQAUrWMEKVKACFahABStYwQreNkBg4J13n/c5fqjI9sbexhDiPzILL4Y/2b4gq9jF+BT4AOD7U+AY+h2C/5hYgNfPwSPz6lslDQHTQtK7hDcnDEufAWacmJieilASVuOYiPnwftkJA4wJscAQYMAR8Cg2mk0wFhxQYLp0ANNsPZzD4WkmvM/iksiYKgZULYzs1B7rF1dIetZphWnmKlsOZsw12CQ67sgx4yO5ExwJKya2ok2z7fuad5HzlYV2PMCWEzieZuqXmg/Bao+L+ZgJKyR95+MUNbZKQ5/U/AiOe9hmSu6OtMcFcr+8WXGVeQtzAzmxgLsn9WAb1YWZR+Mz0/jM/FxYlbBi60eAN4oQas2+JdP4zLyDbajiq3smnjGf4SZGxVXmfQVo+oXZMs955IqZeRXna41Em6oSrqW4Ox32Voaaw2cNHUkr6VPF8VXKVtXOIetxxATxTY7qCn4o0ixFraTPdRPMvGM+X5Fsp0AQMAFJakl77A3JKX/A26Y1oSi2xUMC82h0ppua7d7VJnDAEpyD/xIS0dPqtE8F/7HRtH0x/T1pQrmCsVG+uybWjXRkVS6bmSQD0HvaC366Inwh2DGTfcUzv63gu8FdsbmZU9Oe3feCL5QlaTRxPjkKbhJHVVWOQgwVEB6nly9Hd4opRq9c/igvevsFcCBrhxQAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />). The backward pass instead needs to redo the work of <img width="29" alt="get_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAcCAQAAACaR2SIAAAB1ElEQVR4nL1Wbx2EIAylAhWsQAUqWIEKVqACFahgBStYwQreNuXcAP+cP8/nF3GyN/e2oVJPw6leNY97PcGoZmXfpWyAcn6XEpM7Q3pfRgDS7m1SVNTc29oqryKkag+G7BG+SdNaQ+ng1ZKiy/1P1EYN4A6LvoNktUW6DGjWw3NFbwxE20AQePXw9rje74dcwKkJqBI8pcsJ+8zsqCG3RrD662TpKyaIna8xXVurl7XpRR6mOz06wKaWrS2lK6Ehp3zaaLBua3OnR52gQHQimSH7zgZWLnu73qMNJH4HY6FIZGWk6Tv6tUywaGKWypqiWOeBMrQTzZwld9Eolb5d7UtD1EZ6TVEHTzRVdRWOnGoR5QyOErxYlThSdJfUVxWNwn40VfcVPSGVm7iix07T256tLpHaoja5okv6SlL9fcbPUSMGyAEpbtsGg6aenTJ7rik2TQqLKxpFbRyStt9Ycb4GoSjCZnNY/phsjkPWA4ek6Hag/gsQaVTlydjSOLd0FOSnEI5QHPOxoDwh5ZCK8sAs9V6J5YCr4SKpOenK33CRtCsU/QNpEEWhH/6RHGqkLpu7ITu67wMPhoG8j/THwWDZEYa9N1Uq8A+wFFNP/emqtfkgPni84CBtx4UnAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> from the forward pass, and apply it <em>again</em> to <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />. In other words, we’re computing some things in the forward pass, but the lenses prevent us from using that result in backward pass. The abstraction we chose is working against us. This is bad!</p>
<p>Ideally, we’d like to reuse the answer that <img width="29" alt="get_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAcCAQAAACaR2SIAAAB1ElEQVR4nL1Wbx2EIAylAhWsQAUqWIEKVqACFahgBStYwQreNuXcAP+cP8/nF3GyN/e2oVJPw6leNY97PcGoZmXfpWyAcn6XEpM7Q3pfRgDS7m1SVNTc29oqryKkag+G7BG+SdNaQ+ng1ZKiy/1P1EYN4A6LvoNktUW6DGjWw3NFbwxE20AQePXw9rje74dcwKkJqBI8pcsJ+8zsqCG3RrD662TpKyaIna8xXVurl7XpRR6mOz06wKaWrS2lK6Ehp3zaaLBua3OnR52gQHQimSH7zgZWLnu73qMNJH4HY6FIZGWk6Tv6tUywaGKWypqiWOeBMrQTzZwld9Eolb5d7UtD1EZ6TVEHTzRVdRWOnGoR5QyOErxYlThSdJfUVxWNwn40VfcVPSGVm7iix07T256tLpHaoja5okv6SlL9fcbPUSMGyAEpbtsGg6aenTJ7rik2TQqLKxpFbRyStt9Ycb4GoSjCZnNY/phsjkPWA4ek6Hag/gsQaVTlydjSOLd0FOSnEI5QHPOxoDwh5ZCK8sAs9V6J5YCr4SKpOenK33CRtCsU/QNpEEWhH/6RHGqkLpu7ITu67wMPhoG8j/THwWDZEYa9N1Uq8A+wFFNP/emqtfkgPni84CBtx4UnAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /> computed for <img width="31" alt="put_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAcCAQAAAB8bq/MAAACCUlEQVR4nMVWYRmEIAylAhWsQAUrWMEKVKACFahABStYwQreNkBg4J13n/c5fqjI9sbexhDiPzILL4Y/2b4gq9jF+BT4AOD7U+AY+h2C/5hYgNfPwSPz6lslDQHTQtK7hDcnDEufAWacmJieilASVuOYiPnwftkJA4wJscAQYMAR8Cg2mk0wFhxQYLp0ANNsPZzD4WkmvM/iksiYKgZULYzs1B7rF1dIetZphWnmKlsOZsw12CQ67sgx4yO5ExwJKya2ok2z7fuad5HzlYV2PMCWEzieZuqXmg/Bao+L+ZgJKyR95+MUNbZKQ5/U/AiOe9hmSu6OtMcFcr+8WXGVeQtzAzmxgLsn9WAb1YWZR+Mz0/jM/FxYlbBi60eAN4oQas2+JdP4zLyDbajiq3smnjGf4SZGxVXmfQVo+oXZMs955IqZeRXna41Em6oSrqW4Ox32Voaaw2cNHUkr6VPF8VXKVtXOIetxxATxTY7qCn4o0ixFraTPdRPMvGM+X5Fsp0AQMAFJakl77A3JKX/A26Y1oSi2xUMC82h0ppua7d7VJnDAEpyD/xIS0dPqtE8F/7HRtH0x/T1pQrmCsVG+uybWjXRkVS6bmSQD0HvaC366Inwh2DGTfcUzv63gu8FdsbmZU9Oe3feCL5QlaTRxPjkKbhJHVVWOQgwVEB6nly9Hd4opRq9c/igvevsFcCBrhxQAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />, reuse the answer that <img width="29" alt="get_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAAcCAQAAAB1hQ+2AAAB/ElEQVR4nL1WW5XEIAzFAhZqAQtYqAUs1AIWsIAFLNTCWMBCN0kfk0C6M9vT7eWnECAhN48aczeCKWa4/daPeJnF+KeVDqB0eVopungBJz+OBGqn59Uis+7q4dFEk8FhZ3Akz/AuS3MLQYRjJGbX7z8qd2aGCzEFJnDZ2DnNAXcF1g3tmEnxAGbgKLD7tX2fG60gmArKdkRyWhDyhcmRSy7NII1/Ube/pIL9fI5Oeyd/H6dR+KJey9kZjo1s7slpOwa6llcgC9L33F3L2SCUICbh0tS8dYBZaHb3OevhXGHh1+HVMZNZQFl6S9kCJtJVvtvdMptgZSDlM/hKie61rI1irbIs9Jt8TQ+t2PfMBmaGBXntXxzoWr6MXNVjFsWsh8Zshjc6NlMqWFSZzUL+W7XVmC1CUdTSq79WWqcHjNwd2QzhRCAlTa3v4pQzuzqxV2uPNd5nnSgpO9r0Ow6+S4WlHK6NvOUWU2g3jDOblWSJZ71pPOzFupsEswjfHJS/L+VQm5p8WG9cVA9sF8+Ujwms1eJupELvqUm0HQoLKzaArCqt37YGySw3DYdWcdb212MAY7+s1O5Dln4Py/h3n/rT1DF7VWlmPgstAUmEh73ptxPzYabfgnU0tIWmHqemuV9Fpnv5EPAsvDEXqxKN/wJPraxQvoazzngffgDoyO9mGqeepgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" /> computed for <img width="31" alt="put_3" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAcCAQAAAB8bq/MAAACE0lEQVR4nMVXbbXDIAyNBSzUAhZqoRawgAUsYAELtVALtVALfQmfJdCNt7Odhh+jlOSmuUlgAL8RBStMP7I9IDucMD8FPiH4+RQ4hf7E4D8mFuH1c/DEvPyvksaAaRB+LnDmwLD0mXDFwcL0ZIQSuJvG4pkP82EnDDIGsOEANOA88AyHX00wFh2QaPrqAKXZnp2jsfqVMFcwJCKmikFVi6M4dcb6pR3C/9ZpRWnmKlsOV8wYbBIdv8gx47N3JzgSdixsR5tmx/9r3kXOdxbaOYNtN3A8zeQnNR+C1bYLlVfCDuGfSzsljaPS0Dc1P/tccPj+thm37YK4317sGGXe5ohZdJfXTn7FVTdmnowrpvGeeYmrya5o4pWFHxQh1Jo9C6bxnvk5FyfJTW7cMV/gFkbFOPMqMz5VrjCwWpXzaNhzYV7G9Vqjzopio8s9Zz582zXUHL5o6EjalT55aV/Joq76aCV7bjFBVtxa92xdwU+XNEtRu9LnKtchNuS135IC8+WKZBvwAJiAhD+Szng2JKfWDG9vykv1W3Jgnowqf1Oz3fawoAPWwzl8LzARV787fWcoMdU5F4tsPfZLBdNB+eqaWB+kMwumaFbAn5NFTNOq4MMrwqAcVbMybXG2Ffxt+BKRTltue/c3xbB6OVhNdLr9tx2gSqCL2Mb/gBjPBrXT4cvRByIQ2mByN/llLuO+XH4if/LNBJPNoAVKAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" />, and so on. And if we think about it, we realise that this is exactly what our original guess was. Did we absentmindedly create a better answer than what’s in the literature? It turns out that we didn’t discover it - it was already known as <em>optic</em> composition.</p>
<center>
<img src="../images/lens_composed.png" alt="Lens as an optic" width="700" />
</center>
<p>Optic composition (drawn again above) gives us a natural way to compose these bidirectional gadgets. This composite is an optic of type <img width="124" alt="(A, A&39;) \to (C, C&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAAkCAQAAAAOJD/UAAAEk0lEQVR4nN2cgbGjIBCGbYEWaMEWaMEWbMEWaMEWbMEWbCEt2EIOMHOnuAu7sEzM/ZnMvHvx/eK3sCxorut+QWOnv92En9F/wGrs3t3+7Ub8iIpZmW6WbkuxZncRr8/Pqlvc+0l6EqkzKxapsdvIB4+dLWkZw213FzH9/VffrQ8KeZ6Ucl3CX9VwOc4Uni/ndmZFJtW7PkJFqt0JVuKxZW4mJKlzezzkZyhHyrf07d6zC9Hsjp0/R49u9PGVd4tZkUgpZzWQG7GGJkgJcrPud/GoX0SzSqnSpAb36e7aeS6hppAP+kvGoonmdmdFIGUZI3ZwJ/AvGcFuL/ebuO70maA0KcoJJ+Xnz7d73+vl0f2NT7s94zx0tzurLCkOShXSi1TAYTcdLvWu+etpHSelQurFRtbGrKPpbjCrDCkOSOtSiQ0h4vRXntuEYPWJbBQ4a7kwUiqMOTyRTkgXhsVxg1klSWnG7KLDBU8hRPXpFXNb/i7IYm2CxSJfGKljPKZaZhiMeW4YqwSpCZgvMS0hMCaEiF7k8dxUondaRlvz4uYLjJQNKTbVLs3IiBw3nFWC1IqOp1jmk0iOENXWzJhbn5jtOCMlr5W5fQKTotDQ5Bmc54azQkn5PkK97O3TZ5RIwMvcOHNhTlO01k8LI7Xe9gzuMuRWy7khpAwZtj0d92Z0E1m3jZyP8lJhlUsVTMoIsGjjhpDCKuJY+lKf7pV7beVuq9gOgJfNzJZnwaRmoXpG3g0hZYkBXy5HrZUBL3ejtpeqjXwHAT7zLrgJJeuGkFpI9WM8a6xVDatxkw64CiGnjHKIlA4tl1oqyrohpGgpMkZiqwJe4yYd8CPkO6H2h0jJrFfauFUE3M906+X1Ck0rWxHXudnM6ll/0iL/tWcyXXnAqZxk3RBS+YD7AstEr6O4KBlptW42W9TE7vnXEhJp7vzlAacmaVk3hJS/jHTRsgAoTHHAa93kU/pM3MyBSPWEENGfjpF1Q0jlAMKL/NLZpt5NOuA2m8rTZ07f5vBaGVOfpFthwLEKtizg9W5Lce0AyWQqgrNgUj4/pO418h4Gk3RDSA3JhGbRE0A7QrmRx3ODJbvxsjI2amFSOjkd9UhGw1TihgkhpRNjq0/Ave+ObZneyXPDj5S7QWpY2QIjNYXrhuqgAXygMM2J64YLJfUCP1Dh1gK2KWPCZ9eH+Y7FDVxB891gpbonXzOz88CkjmS/Rdemw2OHkFKc+G6YEqRmoPpcT+vTOI0s0fp1Ovls4ElK3GCNaKcpEWW75SyI1KEh7CUszs8v8yb3E77MwzmVuGFKkBqyK1u6TOMnS2fBe2W+tbxn3dOkenftS7jHPmUnijwnjhukJKmX4O29ls+cKeKKuZ2kSLXllCU1ZjdfqLKCS6a7RtYDC21aIEOqLScCqfScQpfc0yiQXg/4KoIMqbacCKQM40EAXFZ40/Oq6etPpXtJkGrLiUiK890TWG2/Ualdr5Wrz2tUS6r1N0/JpLgrvVgte62/Zy21kqhXHam2o5tFav7y9zpwPa1lT2vPPzFb9oykGUs98D+0+ClSfwB4mdymXnl7tQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> where the residual is <img width="87" alt="M = A \times B" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAAAYCAQAAADJlg4NAAADI0lEQVR4nN1ZbdG1IBSkghWoQAUqWMEKVKCCFahgBStYwQo+fKmAHDjc8ZWZd/lz54JwWGHZg4T8D5iI7B0CFjNZrlLCQNTVbv4othwoOSqRvgsV8BMXSXjtYaabTGTTIR/FxpLsusVKRt2KvRh8KxYbxXcw/AjLzqx/3WXSUZjXXOWC6QfN4yPYgmtyyy2+wWijOD4eldsxnzSaF73pPV2E0O/BNIS0bNDkjx0m9Yxj9cvgW5iVu2f+ZzYWUX5YaSUrkSt1N/JjrcvHIfwO+laYlB5RZWuOOitGw2DymCV9LZD/DaiNU1RPh/exA+tzsLHkafdg9vQXVj9yULqTocOUnnGY8Tla+0vRDg1rH1JcYwpNzVR6WNhqDmiZsEH2V1zuV4iLE7OHdtAyGu3OaWgeElBcYj1WxbkYxT3FmSZ11E+jv+KuPrYBTS4D6HXU4lfuAmz92ZJe6efkPrfxZ280eiuuDEZ3nhODHL2t1JKsIxj8IVexYewafnvox+i1rbfi0mjz7Q27KKW3nVruyb3Th1H3uNmUogpxEZqaseHaDBNScZm3+JhScYcRVDSRpUmiQnrbqT0VV0bFXBmI2qp1gZ86OyfaIqMa3HQ4uiBCu/qMFW9pPFxPen+hFlJc0+de9gkG94aLDy0erOKtq+KuyTErm52Lo/cXavOKazDVkxkWKNIYWY77f9pVcc2FUXwbtWV9TRmwV/39uWoCIYKlHTpdGXSIVdx/AXOUpYIyN79sJwiw74UBe1xHbj7t8lDBCrg9AY1EAK+470NlSOSN5J5aC/neEiCPa1C9V4jzizPoOTpu8IpLwYvlZ8ElsLmJ4XM0g/AYa6cX9jVjLQqWDOXMmIgm3qa4IjEtcMFoZnqUncCTmzqENnpLirtYwSjMQiRmwpEbD95PcSVIIDZHy5mvFnphxRX1K5s1WZGus9iB9lJcVniluBwN8rV4eiHFlTVqqc2OY3UVD4WhdiJff5AcdBQ7uCG5rat+Xin4Why9OW2n/nvjBgsljxJRFfx/r4dnKlvNR17Cko3NQTUk0XPB16anTYzxMfe7bPaTVwZ/Spv+EGnOgDQAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-0px;" />, the forward map is the composite</p>
<center>
<img width="488" alt="A \xrightarrow{\Delta_A} A \times A \xrightarrow{A \times get_1} A \times B \xrightarrow{A \times \Delta_B} A \times B \times B \xrightarrow{A \times B \times get_2} A \times B \times C" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-1px;" />
</center>
<p>and the backward map is the composite</p>
<center>
<img width="250" alt="A \times B \times C&39; \xrightarrow{A \times put_2} A \times B&39; \xrightarrow{put_2} A&39;" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-1px;" />
</center>
<p>Really, writing things down with equations makes them look more complicated than they are - we’re simply plugging two boxes <a href="https://twitter.com/bgavran3/status/1366202140788731908">side by side</a>, and reading off what we ended up with:</p>
<center>
<img src="../images/optic_comp.gif" alt="Optic composition" width="600" />
</center>
<p>We can notice a few things. There’s no duplication of <img width="24" alt="get" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAcCAQAAACNZfRBAAABo0lEQVR4nLVWbcGEIAymAhWsQAUqUIEKVqACFahgBStYgQq+2/S4DfS4e9WHP8K4fT3bOKXuhleTGm7XyrCoVdnn1A+gfn1OPSZohRQ9iAgGxicNIAOmf82poBKEewZD8gS+atproBWXIwa271MzRs3wUyy0EQJ2TcgGcjzBuaIbM5kYwCCuCW4v+/eJe15lUPtCoJC9kK9Mjjnn0gTScBo3eZfBJ77HkN9t09ZIEPHlXg/McMGxvaWQXxhIAe9SDdL33vR6wAt1iFEkJFb+D7Dz1e2PPbA0GUyMYk3+TTuFSGiq0tFhYGtyJ84yq2q7y7ciPBpnHQY8KdDsBHOayy6IXYsuA+GQgSTknzLcZaBVwBnoK5AMpPaCbWqEM7CloDWgyxl/B4xoxoKFNZmmnsiVvOYAC/XlAmcgCS4LXPEB500UDCBsNZfk4zgVA7GqRaFipvqO4EFS7WR3NMosjcF62uKYwRGXztVLSAa4E7iOUrAN7S9hOlV/GWPDwEVEQZi++8+Hr+ZQrJ6Zy7BsLGNt528r4RcTgd7aiR7Bwzb5H/4A9nTAL98csVEAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /> maps – everything gets computed exactly once. There’s no need to squeeze anything through the <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" />-shaped internal state – we have the freedom of choosing the type of internal state we need. And the complexity of optic composition is kept at bay – composing optics in sequence causes the residuals to be composed in parallel.</p>
<p>This gives us lots of expressive power, since a complex composition of optics can have a residual that supports this complexity. With lenses the situation is different: we’re fixing a global choice of the residual. And this particular global choice necessitates a specific kind of a composite lens that is always less efficient than its optic counterpart. This is the lens complexity that’s shoved under the rug: lenses seem simpler up-front, but exhibit hidden inefficiencies when you compose them.</p>
<p>In the next section I’ll show how we can model these operational aspects using (2-)category theory.</p>
<h3 id="residual-reification-is-left-adjoint-to-residual-erasure">Residual reification is left adjoint to residual erasure</h3>
<p>This is a short and a relatively technical remark. The well-known isomorphism of hom-sets <img width="387" alt="\mathbf{Optic}(\mathcal{C})((A, A&39;), (B, B&39;)) \cong \mathbf{Lens}(\mathcal{C})((A, A&39;), (B, B&39;))" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /> (as defined in Proposition 2.0.4. in <a href="https://arxiv.org/abs/1809.00738">Categories of Optics</a>) can be weakened into an adjunction. This is because the category <img width="68" alt="\mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAAAiCAQAAADB9jJvAAAECUlEQVR4nN1Z7ZWsIAylBVuwBVugBVuwhWmBFmyBFmzBFmzBFmZBCZ83ODizb86+69n9wUAglyQkIMT/Aynmpv6d0OavEb2ZRoqhddhXMIn1QsFBjEKZb4halldJ6cXDTPCMvtWI6t9Z8SXUMY+6OXoQW0W53sjdIm3CLJbIS3TG/OywzdDSO4GTEzi3G1ohXcL2wS93vCV1Y8d1B9na/J/M37nRS/S7vtqGgVX+JGp/043s8hCkp+RxS+rC/DIYEpbIvnunnUha8DY5AfsxRMNfP0EKR0nnZt5vuCevlNVnLvo+jb3EmGvOs7plYfegZde89goLQ4ld7Gy+O3RzKllCcuuZjvXn/XKSPFQRfNp71HHu0WfRM85m40u5uStUf+Ucb3cK855FQZCzoyvoX6DkYSQiZ5vB1klgIxYKyxh9gKuB+jCGVsX8gvx2LFBJCTdOM2emxJZGToEmiBfwTAKwjfWLa7VWRMfcaiYP1pbmBYv74uzgbNmBjY5mrj0amy69y86PeJ0t7g2PlMVPWgP1ooCmfMvzWPpsVJBFHjMcCm9VSujXmJLOSZ+PHFq6bYsXL6Hqp4O3hOoVmcLeREls/srTFPyxcyquoB+GLCjpnMUFu6DZwzwPGPvUpbUjvQo836Yk9VKKTaroh1FSogtH1sVMClKyMe7EA8p5nxK0MBvkrvqdyCnpC0qtQ2izgji0a+AgfTHuGpCStliyR22cqjpTso0S6l2veZDBj0VMugakhBSoH5IrII5TNU/s2ijJCcVAlKiblBSJxcNTUkvDqE98FP4OJcs/p6Swx96ry5tqqFfjXO/blORbqF5wOLRWMBNll3ysph5pvLkbS9IQyMWSep6MVKlfRo2QZIaS3ucmuEDnCvirE6dj+tUpoXoKJWJhfqTKJPLDO2hgrQqlcJrTmnIJfOrQruf7hvMSWahUUvIA/YOCi8jPtlOtPRo3irI6oRBQVi0wiPq5GEzeefCtGhKp/Jh44VTrBDkk+9ylIduvkhK60EodeU7KuR7aEZGZ2sNUccPyZiXC4JTZzHCaevRtnB+evy5uEdLfcabEnq32qaBL7ihs9RIiWbj4pmtP7eXqQtENKDP4EEDF53hUUVzVg4lNMHon2X05plmGg+OoqGbVgL7u2OOnJyaXQF9c58RvBTtjvWXaMEQrOUeqSnIxMREGiJVmQep4y6khjRH27ad+f2rltl5BSVaqjSbowLVkaldxX93uzI1F4iXq+cbvY2ss8XJ0MBS/hW9TMkHXaRl/9+KUxbcpEcdb5H1sb42G+D4l8tb7z4nHK0+gLVhEelZ8nO8Xwb/31dFXjuabmI63+PC11Z+fxHxjO2x2dOcN+s9gbn5KaR/x59DmAh2OPz8SgSlG3rRATAAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> should really be thought of as a 2-category. This 2-category is not anything new, and is already hidden in the plain sight: in the <a href="https://arxiv.org/abs/1809.00738">definition</a> of the 1-category of optics.</p>
<p>Let’s unpack it. This 2-category is going to have the same objects as its one-dimensional counterpart. But morphisms will be slightly different. Recall that a morphism in the 1-category <img width="68" alt="\mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAAAiCAQAAADB9jJvAAAECUlEQVR4nN1Z7ZWsIAylBVuwBVugBVuwhWmBFmyBFmzBFmzBFmZBCZ83ODizb86+69n9wUAglyQkIMT/Aynmpv6d0OavEb2ZRoqhddhXMIn1QsFBjEKZb4halldJ6cXDTPCMvtWI6t9Z8SXUMY+6OXoQW0W53sjdIm3CLJbIS3TG/OywzdDSO4GTEzi3G1ohXcL2wS93vCV1Y8d1B9na/J/M37nRS/S7vtqGgVX+JGp/043s8hCkp+RxS+rC/DIYEpbIvnunnUha8DY5AfsxRMNfP0EKR0nnZt5vuCevlNVnLvo+jb3EmGvOs7plYfegZde89goLQ4ld7Gy+O3RzKllCcuuZjvXn/XKSPFQRfNp71HHu0WfRM85m40u5uStUf+Ucb3cK855FQZCzoyvoX6DkYSQiZ5vB1klgIxYKyxh9gKuB+jCGVsX8gvx2LFBJCTdOM2emxJZGToEmiBfwTAKwjfWLa7VWRMfcaiYP1pbmBYv74uzgbNmBjY5mrj0amy69y86PeJ0t7g2PlMVPWgP1ooCmfMvzWPpsVJBFHjMcCm9VSujXmJLOSZ+PHFq6bYsXL6Hqp4O3hOoVmcLeREls/srTFPyxcyquoB+GLCjpnMUFu6DZwzwPGPvUpbUjvQo836Yk9VKKTaroh1FSogtH1sVMClKyMe7EA8p5nxK0MBvkrvqdyCnpC0qtQ2izgji0a+AgfTHuGpCStliyR22cqjpTso0S6l2veZDBj0VMugakhBSoH5IrII5TNU/s2ijJCcVAlKiblBSJxcNTUkvDqE98FP4OJcs/p6Swx96ry5tqqFfjXO/blORbqF5wOLRWMBNll3ysph5pvLkbS9IQyMWSep6MVKlfRo2QZIaS3ucmuEDnCvirE6dj+tUpoXoKJWJhfqTKJPLDO2hgrQqlcJrTmnIJfOrQruf7hvMSWahUUvIA/YOCi8jPtlOtPRo3irI6oRBQVi0wiPq5GEzeefCtGhKp/Jh44VTrBDkk+9ylIduvkhK60EodeU7KuR7aEZGZ2sNUccPyZiXC4JTZzHCaevRtnB+evy5uEdLfcabEnq32qaBL7ihs9RIiWbj4pmtP7eXqQtENKDP4EEDF53hUUVzVg4lNMHon2X05plmGg+OoqGbVgL7u2OOnJyaXQF9c58RvBTtjvWXaMEQrOUeqSnIxMREGiJVmQep4y6khjRH27ad+f2rltl5BSVaqjSbowLVkaldxX93uzI1F4iXq+cbvY2ss8XJ0MBS/hW9TMkHXaRl/9+KUxbcpEcdb5H1sb42G+D4l8tb7z4nHK0+gLVhEelZ8nO8Xwb/31dFXjuabmI63+PC11Z+fxHxjO2x2dOcN+s9gbn5KaR/x59DmAh2OPz8SgSlG3rRATAAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> is <em>an equivalence class</em>. Which equivalence class? The one that identifies optics <img width="61" alt="(M, f, b)" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAiCAQAAAA6jQX1AAADgklEQVR4nNVZ7ZWsIAylBVqgBVqgBVuwBVqgBVqwhWnBFmxhW3AhoyNoPhDfnLPvenZ/DAaSkJsEUQqHU5EY+Z+g1ZT+GjGquf3lr2FQQdmHc1j1arPEqoV4MaYp9odD9vD+Xl/E2OT2kOItNMhrWGdND6ZV3sCGKZbkY0oVlyZZYAHHzBHUT3pjTvO4rr3KOmQDHMwjz+DSSlmrgI5OxO8FgrCLNvk+G005RsH+8G9I8Enagy5rMruNaAu5EUbYIvmFpMwIwUR5TyenDGB0P+ZNC9vMasOuGPkQF4ZVDhbDGh1AVZxfbdAdLhvZFW0aHalBs4UVh+wU2igLzpgZp8hwkA/uIQorzrRLMpcMO7mFbJrfW9DxXBe1mOh4ZJfezfk0o485CctehCkHPISJIwLQw8JPGT01xFsNntEZjppTN3h4An9ZWOTsObMFWD+jHTwLKOhulLud0bluTEkWy/drGkGXlJm4cw0L4Lgt1s/oAM8K8vkhk89l5RXMDUCuiPaTMx7FXmSi/UTCcsmHw1aXnzLakfmCxgIye1zgEfvCCRCaavQxRbmb+hM840NGeyoQSZhLK/RCyEdYN4kt3/SZKp5UC9VIf42Wi88V1xr9QgwkjCYCoMBRPetk5Qo16R64DfNtclzdhOnQabQtmDJAV3wsu8M8ZLRC6wKPc43WaOcf8K5MMtoXQmWlLvvjp4y2lTNbcK3Rb93ORA34ESgbzZ1opmIHjhxtqkB6ymi+h26TCKjjiPCWsnfdD+9Gx8pRTxkdbstfJXAduoy2p9r3Llq+CpnnjH7dPoeHU4P5Jsg1K0x4rhjYntef0sDb6NoRHKPbXEGnMUp+PLmJKnlExjJsaM2nZbGvGjSj56bjoiHTGC1fa+3I1uaHyhULMWAgOGr2+ktcGPiihR9ZVrSMnDGQTuPkjw8fNmkQ0WTMbGhE8rfbFnw/U/H7oZ6t3lmRihhhp6QURacxTj63wBN8MJ5Jeo50tzncTiN34ESjsfaxTd7AUZRG5A4xyxdvNpx4VOQbE1megmZTNITBt+42Atle2u0//xGDlpcwSh+SZeb1As+qGjJz3gcvnPLuHThLLJJNDi3tzxEIzrlPXuavgCh5Gb7l26p0x9ED+hY0F7psMn9p2H+LaopvKiziPw9xbpcsXAwGlnW9u6zhRq0RsTtT/i3ctOPpzfBfgMaz0y/p0b9xGhFADgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> and <img width="66" alt="(N, f&39;, b&39;)" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAAAkCAQAAAANkzH8AAADkUlEQVR4nM1Zi5GDIBClBVqgBVqgBVuwBVugBVqwBVuwBVtICx4smmjYhUWYuTznbnLRe8B+3i4ixK9jFOqneP4No9jF6395jHAdJtAO55ewdeaRYvY/TIxi5T/cFYOwQl/+fvklTB147zxaLLz1aW8/7MHZE8QrjZjpfS9c46Ppau8A6+PRvvkNhDXPKRJG3v21JPdSnuBsBuXmfYPB+GuEwXb/6Q7lv5lhwLCYJxEVxl1glODBGBnWf7JsBuPnvaH/gfHMZWaLWPWDAbJuJ5RkvwV3HaYjhO3Fg2Fhdbq/IW7CeRT6ZMUD9m2M1PPKW/o51mNk/VaLMJc6RgUzw77FeFw+SQq3QU4NDJiK2dggcBJZxFTyGzIDTCkoHu2/J1VNFfRaHoba0BLnGtIjmPfbCXN1GXWoUtA8Ky0GUyE3h2OgCZVOhiaTsIn+yJzPCGBKkeOx9HqXgh/sUVskIp1tSjEn8airu0NcKXI8hsoCSVaGE5/GK5XOp0ph4NpgUuHT8yQ7lSJ0JrNn45R0QphNoYrLSwqk0vlUKSxcO4wdrmftWZzBDkawfqYSCkDZGCueByXFHm6G+pbOFqUwXXYacUanQ8oxHrAgKSWiiOR7iuvdu3S2KcVU3UGkiEpx7ZMXRoNGrHkudIt3v9+ls6WnoIpgHdKeYmH0JYQpiGA5IJMafJXOlp7i02m2IDUnvh+545EphoT2Kp0tSiGAp/Ud03dPIZOEwWDxriNvCktsc4LctSmF7vCmKu0poqNKsWpxcy3oJusE5vdTOtuUAt85tHJYloGJBMlVkFQp4rdROtuUou6tBJeDoxSPTJEqRUSUzjalWBg5XYL9avhi0pX1Z8ZVasjsSzGlCIgZSSkFryrUiSbOOX6Zk1ueCX1UmX+ne8GNNODKihdVJZoU533uht2yvSiV2tAbGsKIMtJE6vTOKmdDlWjSnJ+XTmEv6libsYzzXVJDpmPwHdmWR0gyYhx4kNPk8EWT5gynGzNo2squZyNdbocOAnaHKS6T0x5zORVs8/lwuU3g1vlUzBQ33fXtVZmTB5kpEyKGTM9zMUvWBn385myluZx1GEvHTeXsrgGu4xIqQfAILbq1nPXYSis1rNaEh3w3ElQJO3R8xlmLidMY5s/H+KBP45U3dzBE/TF1rxN+dXnflYXrkiQ572k/xgJvIftx8hESlF0pXSeV/k1Urq5lr/nbkLgW/gFxVbz8EOOYagAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> to be the same if there is a reparameterisation <img width="82" alt="r : M \to N" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAAAYCAQAAADetJ7EAAAC4ElEQVR4nM1ZC7WEIBClAhWsQAUqUGErUIEKVqDCVqCCFbaCbxj8gCALruC7nrfnPAS5zDB3BiWkH0by3q4cKNFbv7ETtyNyDKS3jjd59SfHCIdpJzLDxTP9FPlAD0ME9GLd2IXgyHVOch2gRUP7B5hycPsjYOBhS06c9uBAL9+jF8TCNR0V82NORkjw8xtIqJP7FGgLpP881GbKeNcNsCcfhQYKOUMq8LPdkXkV7QMDBuRoSBndeyXausIQkjEUQwObjKH7gSJXgpo+RXfHZwObod7IJDULDfTp12RUi/lSZhWLM2WSj/mZ1U+QuCR+ooES6d6vkNeKKLWkO5pIOFmFpDBUb74b4L83/OWTO61M/1Yh7b601IbDvWHZAfcrpIRCpb5IMduYOOFkFVKjUSa0vYLfAR+RDsEVaf3IkXNIBcu4UL1fISlWfLVj9uCNE05GIdkylcuobpBTh5yozlVhyLYAmSLdEkEg3amQFrbEP0ZAHiIw/XHDZBRyXCaavMCyhsxXSxL6l/tabsY7FkB0m+fVqIY0XqiWQAXODBNOViGd8WhSve6C3p48HlykgjstakiKpixfWbjnwoSTVUi3PwSecVthf3KYULi3O6dmNaQ15aewjKaRM/2EU1BDqoalMPNKCIFH/hV7+1CskAO+2LhyfQpKaRFZwU84BVvNNHxZIL304leSyltYjULy6ktjHJS4SSV6rQmn4JRNTw7o90B7CrXn5iHwfSuFXJ9dej5O7bk14RScsnsppMVqyDFwXDuFVEUh7RArpGt1CecfKaTFWq/6QlKukLXgVeftWCEdXMJppJCly5aHhThDhsZtVUPa2WreHqYU0sIpexOFNMViYA7kFObPcLZWCskra+PzQ+9UorNXFHIuMv6A+TJUQxlRcgVNi49dY4V7GHI9Ezj55ciMuKKQ38fwoIbTXvu+OBbVevd+mSstw2XAIeVSWvKKhjaR+f+ALl/6/gCbtYa7RX+LcwAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-1px;" /> satisfying some rules. In our 2-category a morphism will be just the triple <img width="61" alt="(M, f, b)" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAiCAQAAAA6jQX1AAADgklEQVR4nNVZ7ZWsIAylBVqgBVqgBVuwBVqgBVqwhWnBFmxhW3AhoyNoPhDfnLPvenZ/DAaSkJsEUQqHU5EY+Z+g1ZT+GjGquf3lr2FQQdmHc1j1arPEqoV4MaYp9odD9vD+Xl/E2OT2kOItNMhrWGdND6ZV3sCGKZbkY0oVlyZZYAHHzBHUT3pjTvO4rr3KOmQDHMwjz+DSSlmrgI5OxO8FgrCLNvk+G005RsH+8G9I8Enagy5rMruNaAu5EUbYIvmFpMwIwUR5TyenDGB0P+ZNC9vMasOuGPkQF4ZVDhbDGh1AVZxfbdAdLhvZFW0aHalBs4UVh+wU2igLzpgZp8hwkA/uIQorzrRLMpcMO7mFbJrfW9DxXBe1mOh4ZJfezfk0o485CctehCkHPISJIwLQw8JPGT01xFsNntEZjppTN3h4An9ZWOTsObMFWD+jHTwLKOhulLud0bluTEkWy/drGkGXlJm4cw0L4Lgt1s/oAM8K8vkhk89l5RXMDUCuiPaTMx7FXmSi/UTCcsmHw1aXnzLakfmCxgIye1zgEfvCCRCaavQxRbmb+hM840NGeyoQSZhLK/RCyEdYN4kt3/SZKp5UC9VIf42Wi88V1xr9QgwkjCYCoMBRPetk5Qo16R64DfNtclzdhOnQabQtmDJAV3wsu8M8ZLRC6wKPc43WaOcf8K5MMtoXQmWlLvvjp4y2lTNbcK3Rb93ORA34ESgbzZ1opmIHjhxtqkB6ymi+h26TCKjjiPCWsnfdD+9Gx8pRTxkdbstfJXAduoy2p9r3Llq+CpnnjH7dPoeHU4P5Jsg1K0x4rhjYntef0sDb6NoRHKPbXEGnMUp+PLmJKnlExjJsaM2nZbGvGjSj56bjoiHTGC1fa+3I1uaHyhULMWAgOGr2+ktcGPiihR9ZVrSMnDGQTuPkjw8fNmkQ0WTMbGhE8rfbFnw/U/H7oZ6t3lmRihhhp6QURacxTj63wBN8MJ5Jeo50tzncTiN34ESjsfaxTd7AUZRG5A4xyxdvNpx4VOQbE1megmZTNITBt+42Atle2u0//xGDlpcwSh+SZeb1As+qGjJz3gcvnPLuHThLLJJNDi3tzxEIzrlPXuavgCh5Gb7l26p0x9ED+hY0F7psMn9p2H+LaopvKiziPw9xbpcsXAwGlnW9u6zhRq0RsTtT/i3ctOPpzfBfgMaz0y/p0b9xGhFADgAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> without any quotienting. And a 2-cell is going to be the said reparameterisation, satisfying the same rules. When defined this way, the job of identifying two optics is left to the higher categorical structure in a natural way. That is, we say two optics are equivalent if there’s an isomorphism <img width="148" alt="(M, f, b) \cong (N, f&39;, b&39;)" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />, i.e. two reparameterisations going there and back forming an isomorphism. Compared to the 1-categorical version, we see that we have directionality: having a reparameterisation between two optics doesn’t necessarily mean they’re equivalent. That was the artefact of the need to squish the 2-category down into a 1-category, which is something we don’t want to do. We want to have more expressive power, not less. And interestingly, we’ve already seen an optic 2-cell - it was the <a href="https://twitter.com/bgavran3/status/1484197859205566464">animation</a> at the end of the first section.</p>
<p>Turning <img width="68" alt="\mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAAAiCAQAAADB9jJvAAAECUlEQVR4nN1Z7ZWsIAylBVuwBVugBVuwhWmBFmyBFmzBFmzBFmZBCZ83ODizb86+69n9wUAglyQkIMT/Aynmpv6d0OavEb2ZRoqhddhXMIn1QsFBjEKZb4halldJ6cXDTPCMvtWI6t9Z8SXUMY+6OXoQW0W53sjdIm3CLJbIS3TG/OywzdDSO4GTEzi3G1ohXcL2wS93vCV1Y8d1B9na/J/M37nRS/S7vtqGgVX+JGp/043s8hCkp+RxS+rC/DIYEpbIvnunnUha8DY5AfsxRMNfP0EKR0nnZt5vuCevlNVnLvo+jb3EmGvOs7plYfegZde89goLQ4ld7Gy+O3RzKllCcuuZjvXn/XKSPFQRfNp71HHu0WfRM85m40u5uStUf+Ucb3cK855FQZCzoyvoX6DkYSQiZ5vB1klgIxYKyxh9gKuB+jCGVsX8gvx2LFBJCTdOM2emxJZGToEmiBfwTAKwjfWLa7VWRMfcaiYP1pbmBYv74uzgbNmBjY5mrj0amy69y86PeJ0t7g2PlMVPWgP1ooCmfMvzWPpsVJBFHjMcCm9VSujXmJLOSZ+PHFq6bYsXL6Hqp4O3hOoVmcLeREls/srTFPyxcyquoB+GLCjpnMUFu6DZwzwPGPvUpbUjvQo836Yk9VKKTaroh1FSogtH1sVMClKyMe7EA8p5nxK0MBvkrvqdyCnpC0qtQ2izgji0a+AgfTHuGpCStliyR22cqjpTso0S6l2veZDBj0VMugakhBSoH5IrII5TNU/s2ijJCcVAlKiblBSJxcNTUkvDqE98FP4OJcs/p6Swx96ry5tqqFfjXO/blORbqF5wOLRWMBNll3ysph5pvLkbS9IQyMWSep6MVKlfRo2QZIaS3ucmuEDnCvirE6dj+tUpoXoKJWJhfqTKJPLDO2hgrQqlcJrTmnIJfOrQruf7hvMSWahUUvIA/YOCi8jPtlOtPRo3irI6oRBQVi0wiPq5GEzeefCtGhKp/Jh44VTrBDkk+9ylIduvkhK60EodeU7KuR7aEZGZ2sNUccPyZiXC4JTZzHCaevRtnB+evy5uEdLfcabEnq32qaBL7ihs9RIiWbj4pmtP7eXqQtENKDP4EEDF53hUUVzVg4lNMHon2X05plmGg+OoqGbVgL7u2OOnJyaXQF9c58RvBTtjvWXaMEQrOUeqSnIxMREGiJVmQep4y6khjRH27ad+f2rltl5BSVaqjSbowLVkaldxX93uzI1F4iXq+cbvY2ss8XJ0MBS/hW9TMkHXaRl/9+KUxbcpEcdb5H1sb42G+D4l8tb7z4nHK0+gLVhEelZ8nO8Xwb/31dFXjuabmI63+PC11Z+fxHxjO2x2dOcN+s9gbn5KaR/x59DmAh2OPz8SgSlG3rRATAAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-5px;" /> into a 2-category means its hom-sets are now hom-categories, and we can go back to studying the adjunction.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> What are the functors involved?</p>
<p>The functor <img width="417" alt="U: \mathbf{Optic}(\mathcal{C})((A, A&39;), (B, B&39;)) \to \mathbf{Lens}(\mathcal{C})((A, A&39;), (B, B&39;))" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /> is the right adjoint. It takes an optic <img width="212" alt="(M, f, f^{\#}) : (A, A&39;) \to (B, B&39;)" height="19" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /> and creates a lens <img width="302" alt="(f; \pi_2, ((f; \pi_1);B&39;);f^{\#}) : (A, A&39;) \to (B, B&39;)" height="19" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /> by forgetting the residual. The left adjoint <img width="15" alt="F" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAQAAAC2NjfhAAAAuklEQVR4nKWUURmDMAyEYwELtTALtYCFWpiFWsDCLNRCtWBhpBl83UjJZdufFygcyZG0RJoHFRDzQLUTORZ6clS57pH5w209X4sbs7w0ypB4PdniLOJp+GzlGkyqFD2mULCkk+ms2HmvHTvE2nF6KxX8a+0YZOtox8EvPjsOXAUotfNyfIziKnegs516Gsw2kk604/i7Y5IN4UT3ONPNK7amGmBPNcCeaoC1jyF/OI77yfUld5F9BmzQBnVBaWR2nwrAAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-0px;" /> goes the other way and reifies the residual of a lens <img width="204" alt="(get, put) : (A, A&39;) \to (B, B&39;)" height="18" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />, creating an optic <img width="161" alt="(A, \Delta_A ; (A \times get), put)" height="17" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />.</p>
<p>If we do a roundtrip <img width="35" alt="U;F" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAeCAQAAAA7+qCVAAABsUlEQVR4nM2X4X2EIAzFWYEVXIEVWMEVXMEVWMEVWMEVXMEVXME+0fuJQhLxtO2fD9dezjT3eCRUqR2v+sPyUcwdIo0q4Zw3XXX6kMVyasYaELbKRDGDdzwiEz5hVVVUzJK32/Law3Ih54xX4sElmKkUaERMNiJTk3kbvE8ovSqjszEDQe/C5Z0gQZY+iJmnpeS8wMDk7altZ3YQ+0t8AxHN5iX05hyzyHkX2jFMMb/nmCbaGkKxcsdoqJkvPiZ1zIUvxjsmd6xHPDEKWVPHVHIxq2Oo7pr/k3NYPGfHVFBJPJfrzuaPmTkMh50WRUqJ17yf1j+F38Rz2TOSt1h3GU6DwItaqlXyjojlHXOF1DH2HcdcIe0x9h3HXCHtMU5W2TOOcYU3mBhuKpH0wfE5NIqUG1sefiqReLIY98W05qcSSUMUYwWR+Y7BTTsGHdrR2cAGpXCpBlLPPV7smIVF0uOpcUIpn3FA3YntdvO9RQ11RvRai59caPSSwF24pKdb1W5lxqu4bWp4p4PwHV6v7rS7fQN8AVf4r8ur3O/Oj1ORw/UP8P9nk+ovuvPjPHqOfgAe+ODKl0P/VQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" />, starting from the optic <img width="74" alt="(M, f, f^{\#})" height="19" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAAAnCAQAAABDa6mEAAAD/0lEQVR4nO1ai5GlIBA0BVIgBVIgBVMwBVIgBVMwBVMwBVPYFLwBP6AyMwjuva29a6vurCf0QjM0A9o0/yZ0I7Y70aiPtuSHYzrkMU3/0Zb8aMjm67gfm/aDLfnh6JphuxPNckzC/7hhAKlWtBBRVdC/euZ+weRb0YNHnSFAxuwY68DsPh2QbWMr1yOMQUPvdsyJEgqiLKv3CqqnC/ZAsV8U3Kjs5UoiU0FXLHTIFsf1lcHd7dfon63Xsv1vTj3uIilRCJAJWwcU/MEOni9waYLDQnAv8MdaKPU8KlwL3EBoz1ISVXeGNhJqiSQbj3t5YhjgFwaWiRYFY+SEwhdV7RtDlaBhoK7xLVmgoyUWQDHEqcGEtlEyocAXgAZ0IOWCKi5AyNYLVYppa4MqdimKISSYgmxjT08/5nHjglKSQlnfvKV42RVVIvMMITUI2VQKCjg67KHcQpaCExIXQnkBJ0JIDtq7Ww1SDPZYXNyz9W72TrZf8sYz4YPt5va9QgzlA9eVm5PPXQ4iWLOn4AahLodLMUhoj/buOW132ruoPq67F1pcjRHpfoDx4aiR4DZenjqHGjKiupzBHk8UG7ca4xEZYzl4jZWX4qq23KZbqUOtIzv75umixIJnCAmmzTCHJe1iOsNZ9lFITa5+C99Sh9qznD3PQa20mEFFM2bKMIcpPcMM6yzqiLj5tia0W05S51Aadb83GHJTgx1jupTNyqECRRw14gjSrsqhDBburzCEsyc6NdiBKDKwG4Yh2nWfm2NPT8qPLvqKxIJnCGdP91ODFBChkECLENaJs2HrqGlzVVenimnLM4QwkFlbo0KhVLQmtn4XtSP8Lqscqkmupn+bIcCms3NOKBNVijOpeD9V51DqJP9nGGLY9NZ+ZM6Ph2ikwtomTxOtzqG6qtrvMMRAph636p0z2V2o/iRunUPZaiuvZ7iyPRZKXbL2NUEwp9Csdaix4hTrLYYYQ9rvWnKXZS62tgp1Fo9yqBz5KCPOk/9NK0ddW5Jhe035U6eHuENNGYcnkjDinPo0Qwm+ML+bkQfSB+HZjcwt/qQ/oU5vq5eGPxxuCSPOqU8zPAcROH1i3dNbI9driH4PTVKnMksi++h9RNA2SxlxTv23rbzDdyrtq1Z4hWY6MTILAVefZ3iGntqez9/4hlgzByecv3D1eYYnEOTS5sPtu94RX9+d7VDbv9yxIVY/n+EJOu5VGe8EpUgdbAi/nrmRMxlnFyk8YXiCmdNBR58wvAmbdA99rGbcy/d0/ScMT2By3gRx74pLgH0d41IK10nusxD865pchieQyY83Euhfn3701sh9AUB3klrL8hjyIYhX7Tf0BUf7vwUP+/6vfisr0g79B6tsAiw6q/TFAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-5px;" /> we turn that optic into its lens form <img width="268" alt="(A, \Delta_A;(A \times f;\pi_2), ((f;\pi_1)\times B) ; f^{\#})" height="19" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />. But this technically isn’t the <em>same</em> optic we started with - there’s a 2-cell from the latter to the former which is the counit of this adjunction. Proving this takes some work, but this is the main idea. It tells us that erasing the residual is a functor that has a left adjoint – the one that reifies this notion of a residual in a canonical way.</p>
<center>
<img src="../images/optic_adjoint.png" alt="Lens as an optic" width="700" />
</center>
<p>The story goes deeper. Previously I referred to the equivalence of categories <img width="150" alt="\mathbf{Lens}(\mathcal{C}) \cong \mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />. This equivalence is denotational, and doesn’t see the operational aspects we talked about. But these operational aspects start to be visible categorically after we turn optics into a 2-category. We no longer have an equivalence of categories, and we no longer have a functor <img width="154" alt="\mathbf{Lens}(\mathcal{C}) \to \mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />. Instead, we have an <em>oplax</em> functor <img width="154" alt="\mathbf{Lens}(\mathcal{C}) \to \mathbf{Optic}(\mathcal{C})" height="17" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" />. This oplax functor captures the idea that lenses compose differently than optics. The oplax structure tells us that composing two lenses and turning the result into an optic <em>does not</em> give us the same result as turning these two lenses individually into optics, and then composing the result.</p>
<p>This is a striking result, but it’s for another time.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Bidirectional processes are all around us. They embody essential notions of what it means to be an agent in a world: to act, receive feedback, and update ourselves. Even though we often model these processes as black-box systems, a lot of practical considerations depend on their internals. It is therefore paramount to have expressive models that allow us to describe all the nuances we need.</p>
<p>By modelling these systems with lenses we relinquish our ability to model those internals. This doesn’t mean the internal state isn’t there – it’s there, and it still affects what we do. We just lack the conceptual tools to talk about it.</p>
<p>With optics we get these conceptual tools. We get the expressive power to describe this internal state, and say what happens to it as we compose optics in various ways. In a way, by using optics we didn’t really add any complexity – we just distilled what was already there, and gave it a name. This is the idea behind a lot of category theory too – to distill what is already there, and give it a name.</p>
<h3 id="some-more-ponderings">Some more ponderings:</h3>
<ul>
<li>Everything described here for lenses applies to all coend optics: prisms, affine traversals, grates, and so on. It would be interesting to unpack the operational aspect of each one.</li>
<li>What I described here applies to <em>cartesian lenses</em>. It would be interesting to understand how the story changes when applied to dependent lenses. Of course, understanding what dependent optics are is an open research question, and the topic of our recent <a href="https://arxiv.org/abs/2112.11145">arXiv preprint</a>.</li>
</ul>
<p><br> <br></p>
<p>Thanks to <a href="https://matteocapucci.wordpress.com/">Matteo Capucci</a> for insightful conversations and help in checking technical details, and <a href="https://ievacepaite.com/">Ieva Čepaitė</a> for a read-through of this post.</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This is the <em>concrete</em> presentation of a lens. There’s a few more encodings (such as the van Laarhoven encoding), but they’re not the focus of this blog post.<a href="#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>The first symbol is the copy map <img width="121" alt="\Delta_A : A \to A \times A" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPMAAAAdCAQAAADVsZJGAAADLklEQVR4nO2ZgZGrIBCGaYEWbMEWaCEtpAVboAVbsAVasIW0kBY8FmKeEkF2WYIzL79zczN3ip8sP+yCEClJYUSXvKOd7kK3RjhUey40gRaLGOuwFKqzZKY1xIHac6EJpHjaR5ZL+tlYrrk1xIHac6EJtL19uaSfb45raY3xofZcaAIpHu7nen6WdviNFwxzey4CgXYL+f2CftZicFnDIvrWKDu150ITeC+Drubnzq08g6NSrWE2as9FINDvpPxqfp7cJyhHdWNsd7FfWiIsVyoQkjQfoHvmn5dBV/Kzsh/jfwMTZ4VqioYynusZfR+ssM8vEGy8DKrjZ2mB5PltgebXcJPsYR5s1+J5VuG5+kigfZDxbkYT7L0MquFnaPOBfGY7/LiHHuwSUIcNjeso0NQgEwj0x+fW8DO+wux2Zf+Tfb9J2zYpQ5nOFQaaGmQCwaeXQfx+HmybOPdMu7TFVNhWnO2Fn7hLuLaBpgaZRPDpZRDGz1OVunFNMVaZChsR0gUaN5hLudZA04NMIDj2MijXz0OlujHsfl1lv8l39oB4opzLB5oaZBLBsZdBeX7u3MrAfxQH66bZXTnDrnsdvuCv3C6ncYVSBXtnBIK4l3PPq0a3p8odZkgxVHCNWbs94VPn1+RWtrz5iM61lZ9B4nU0O4FOvkqf+vlmpztVITWaDqBVlW1F6KL8KZuDa12TY3U0O4E8KSjO/CxdeOElvCeuYYqx/pV7g8RPgPlTJwfXNvHCB5pEkPayvyPVgH7hcqdGsdyXO8zQPZh97XKuMLvGBppAcObl9Z4lsimo3g3DPTnVZ97EFk8KubdszKE3YirnOiqhMIEmEWiXeOQkKMcjZXqH1mStTXPW5N4nZgbefTCFyo/LuWJ1cm6giQQPVLkRulVvAgtD4fwgzLeUcr10xwmxQkO5/8UrA6zG7CHDwxWvk88DTSa4I+vKfTYKab1+XyZrbdInd5nN28LJdErS0JS7KcLFNSaSvT4Z5m/3zKbx7XQ3MK+Z3xHlWPS/0i0YMzUq558aS36EtBf4k+SfLi3IF8NaU7JXzj81lXnV0cPubz5nn1FV6E9V9QdC5XHeVqwc2QAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-3px;" /> which duplicates the input (drawn as a black dot in the diagrams). I’m using <img width="6" alt=";" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAQAAABeMbWRAAAAUklEQVR4nGNgQABBBhcgxgLuMvwHYizgPxhiAeVA9R3YJIYccMEufAbo793YJCBBooQpMRMo/A6XcR24JbAYBQKrsAsrAe3BoR6rQaG4ognFPQAuOhV0XDhaoQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" /> to denote diagrammatic composition, i.e. <img width="83" alt="f;g = g \circ f" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAAAfCAQAAAAohhV/AAACxklEQVR4nO1ai5WkIBAkBVMwBVMgBVOYFEyBFEjBFEyBFEzBFLwGvdtRke5iDu7NO4u3z9lZxmqL/sGsUhx6ZVTHzvpfAanTKUfTNf3YkjZ9KUB1GjWria5aLWp9PPQEWJ2Bpg10NXRd6OMP3gGr42iiVt6pn+x5BahOQ9PX4kZ9K2B1NE13paz5esDq+Jzw1PM7wOqMe6p9EAOgjg5jDh/wr86JtqH3+ErmG9xRvXBLP4acuaWZEw3ETk6dC0wYPtVur85U/lZz8g6+wR3JWN9OWHq8en6OMJvwHDZI6l/JuhdOnSh0QrKVqWov6sN+8ooJ8tfxUoTZHqRuaREWcTuYUicK36SOt3+bydQ7dGSWO/zuxW9vZ6/iwXk4wuz9tj+9N4olSqkThQ3OnAN3MpRbSS0eXL5GmF2kLjfiKILV+d3zo3hdHmGo1HBhzFff9JiEPgerkwrQFObLutVquBBmfSOHCYcaPEB1urCtx9EGouO61zmNwpjbGzmtSE5YHR84snW6fm495LjchSnNHC+msyiOYHVMZiEy0fyVykdtaKNlI5btcplN5FBtEIYwrM50k6olRMd14zPnsLfD/Eg9KsrcUDlxB0FfYpFgdbhUe1fV9Omh2mrn+DizF3QJX05oEmcCPA4sRC2T71wid8xvjXQTZtbInHnMzb5vWkNakDY+nDoX9EyqXZndxmZYR/ew6O7hA+QzY9HDqXMBl2ptWJ/7gHehHba0+nUP+eowZxUizvWNKDj+3Teg5Zgl6hwgyQ3pOruhVs9Zl1l85+6PKfweW5KX4HOXv4YSzIg6ey0cdlO4MGmjt/RbtB+fbULVzDlGwVGaGVNHbX3b1pxOIt+8hvrrtGu24uOuT1GeGVNHbW1vH0xz7LliH61s+i0M/NZxydpX5aA8M6LOji6EjBFMv2+RzL67tkRc859wyjML1fkFzDDKmcLhJU8AAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" />. And when I write <img width="14" alt="A" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAYCAQAAACsVz43AAAAyklEQVR4nJ2UYRHDIAyFYwELWKgFLNTCLGAhFrCABSzUQi3UwpZkYwdsLUlfrn+afEd5PAqg0wNQOTnIwxPKPbQQut0BVwK5zHK0XrqHIkR6GF1soJc9RkGDDc0CBEFXCxgIhS9qOtmNPpjlrCg2w4wmLei7EByWPOXO0aJHq0EtqgxFNagKtSjS3kpXu6B+BrJBYaiky1P+MxI06GhQi05CMRpUNUXxtD3J03JxABd5cnQrj9MLHaS309SPyuf/wzXalJseV3y/fgExVmXOX3Xf9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-0px;" /> on an arrow, this means I’m talking about the identity morphism <img width="89" alt="id_A : A \to A" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAAAdCAQAAABLC5XmAAADEUlEQVR4nO1ZjZG0IAy1BVqgBVugBVqwBVugBVugBVqwBVuwhb0QXRVQ+dl43H33PWZuZj1kHyF5JNmm+b3oGlWbwimIeBkYLxiGYrFi8OoMzpHIizUaxh0EjAkWq+tL9qjHqgzOkchLoafyyKwR5kgSWmWQyPJVkcE5knlJOI8uMofjUoyEWAkYHPPwA81MzKurHLCq6deoayuyCEHMa6iqzByPuMftiGosQpDzmqoqs8ZNCNwOJYtXVCzvQcyrrjKLNQ9atkMZUwaitBzJvDj8U1+eQwckNJ43lTIzoJR/WOOaBTFyM/fN/IHzJPJqwYwc/p45vM2TFS5jJZ5Kma30TJnvqMM32+184n8+GJi5dF+JvBiEDGuWs/BrGOu9/fZpQPNQSHx+5sudKJrJ60AFa8YqhjMk81Kr/MtgivCeSLK8sMcYyYF2jtc8UG6PMPKFI5nX+zQGx3OXQHJrwi5hc/qRfFZ4TQDzQIHC0NB5Hp3BS61f4hfaKrju4srcP5TP+ttXj9SB1tCz42oxZPOynuqezOx5dxNVZo7v0BcvVjeNM6aE7svCpmTMiRFZwGv0UnQZFI486kHDIzWivWSEN4akest/Kz40ymJaPBbw4niGR6jgSUyZJfi+f2lSQJ/QFo+U2/7tdI8CXirI93RgsHtPZThbkDeW/Evm/ZS6QFkkIP36LuI1bQLRrdKhg+m7Mp8l4Gp9n/pqurr7qc0sMvsaBbzEoSbTa+6ovOlHZQ5lQWxz58SeR1rAq0tTUteBJvK7kYsiXrtJ+TZFeGYeNzloT75Cb6Y1SZo5JolLexMZtHWgiOYtRxTy6jaT6sOXmc3DGRi/hQXGYM4CdTCsFZt4K3BJnO68nmE756pJLvB/E1mvcEg+so942ZxPehUcw0CS2DCyzyUs0eGvBC5sYqO2YZI005ekkM+exfrBrL0sN6ecuEJqUfIxL3Hammzh6W565nzalz96d0+smd+Dkrbst0J6p/ZE5vznwQKTtk1+J/k/bmFbLX6uycgz5z8Og7eqe3m8mydjVhb6T+MLhubVW2Lk46cAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-3px;" />.<a href="#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p>This is precisely what Conal Elliott noticed in <a href="https://arxiv.org/abs/1804.00746">Simple Essence of Automatic Differentiation</a>. He noticed that standard lens composition duplicates data, and is horribly inefficient. He then proposes a switch to <em>linear lenses</em>, which are just another example of an optic. It’s interesting to note that he doesn’t use the terminology of lenses or optics at all, but this is essentially what a part of his paper is about.<a href="#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p>We consider <img width="61" alt="\mathbf{Lens}(\mathcal{C})" height="17" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAiCAQAAAA6jQX1AAADdUlEQVR4nNVZi5GkIBAlBVIwBVIwBVMgBVMgBVIwBVIwBVMwhTlAQBq6mcHZqmOedVu3KG0/+u8y9kuYme56nrPN/vtpSLa/oSDYwpS9RLZi6D3K3sQu+Xc6fwnBjgblyTI42CtdKt1xR0VA+hPSaZP2vyvrUGOAW0oLeU9ZjTf707HYvf4mu79lR4BgTqRHIRuhAI0cwtI01tIRUzAaAysNPqOSptUW7CyS20UahqWmXXxc0pTSjnLpAdJqf1TPlceQYUzSznYrsu7i/KyS244S3MnwGJT0avWZkHUNsvSFGbGzgyJksFFJG5SG07W282aPAitsM+EtrJc0t2JM2gFrugx13t1xmKwyR3iufLm0qkYpu717APvxIhdHGMTOLbiihqKHtPAkTquyO9nF/u+VdUyO9Blkud9OS2b2/VFZRS8n5YGg9LtyMjNKTng5olqnsaP+wnpIXy89szgRgfaNJcm6D0OEtdhoyMqOJckV1UYRsUvDBJ+r8ClpHlwVWkAXFTJKO0AKgW3ihtgRrihUm4Nwehq4HPY5aYk+dVn2jpwoDSoXM8AFE44gTz4SyN0QN56QI3+Hr0nH9AXz5BTsWkqDVROSVlki1NaV6yjF3HJ5UGEeklYpYs/0FLxi4oLSoCxImidZ8TqK5zHS6iFptCtrkzZJ1ds69aUraS3Szj9MQRsq95ek0TmtTfpIhO5i1MJnpB0m69hbGAqvqnAHjqnCKJKmRk0cj9xbZKkj2oZo7AppLdKikCFDXbhtjSmrmolsIYLzAWlXkGIvtbIXcdYcKVkt0qaan8rMjCkri5SZv98ZBGtaNspINGkJVmOdriulRrJ3m3T9LgMsvbC6a56ClLqbJtNVf3OyVqsixDV8TgLrf0oafu5z+TyP6Ql1ZBNiH9pUkpQZMnmT38hUGhTKxCVSVyYCRZ29cs6k6fCtbfLyYmFSnsql/J4ORhR2djiQWVikZKrD3sVPY1Q3jh5dXTawC8JNWXt2d8tsqoqdiuV+dMsznrDOqvVWubs7vHpcFEWFP4u+DkISkf4Yws9Pz5APLJSUheHliftC53oD9fZTte4cTwbA0TlclOBo0hscEnXwnv31N5YfwN45U0EcX+3+b5jBB4s+rK2v3mOD/htHG1OjkP0A9AMn5dbKfYPJcNDdf0Xt3zEg+hyV43ngH1DOnJGLAe0MAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-5px;" /> as a 2-category too, but the trivial one which only has identity 2-cells.<a href="#fnref4" class="footnote-back">↩</a></p></li>
</ol>
</section>

<div class="commentbox"></div>


<script>
commentBox('5769281040023552-proj');
</script>

        <div id="footer">
          <div class="inside">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
            This theme was designed by <a href="http://twitter.com/katychuang">Dr. Kat</a> and showcased in the <a href="http://katychuang.com/hakyll-cssgarden/gallery/">Hakyll-CSSGarden</a>


          </div>
        </div>

          </div>
        </div>
    </body>
</html>
